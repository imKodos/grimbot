{"version":3,"file":"kendo.calendar.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","support","ui","Widget","keys","parse","parseDate","adjustDST","date","weekInYear","Selectable","extractFormat","_extractFormat","template","getCulture","transitions","transitionOrigin","css","cellTemplate","useWithBlock","emptyCellTemplate","otherMonthCellTemplate","weekNumberTemplate","outerWidth","_outerWidth","ns","CLICK","ID","SLIDE","MONTH","CENTURY","CHANGE","NAVIGATE","VALUE","DISABLED","FOCUSED","OTHERMONTH","CELLSELECTOR","CELLSELECTORVALID","SELECTED","FOCUS","MOUSEENTER","touch","MOUSEENTER_WITH_NS","MOUSELEAVE","MS_PER_DAY","PREVARROW","NEXTARROW","ARIA_DISABLED","ARIA_SELECTED","ARIA_LABEL","extend","DATE","Date","views","month","year","decade","century","HEADERSELECTOR","Calendar","init","element","options","value","that","this","componentType","fn","call","wrapper","url","unescape","disableDates","getDisabledExpr","_templates","_selectable","_header","_viewWrapper","hasFooter","_footer","footer","_today","find","_toggle","addClass","weekNumber","on","mousetoggle","_move","bind","e","link","currentTarget","firstChild","toDateObject","href","indexOf","preventDefault","_view","selectable","_click","_focusView","focusOnNav","attr","_isMultipleSelection","first","closest","last","_lastActive","selectRange","trigger","event","_current","_value","_setCurrent","normalize","format","culture","_selectDates","_index","start","restrictValue","min","max","_addClassProxy","_active","_cell","hasClass","todayString","toDateString","getToday","_cellByDate","_removeClassProxy","removeClass","selectDates","length","notify","dates","depth","size","animation","horizontal","effects","reverse","duration","divisor","vertical","messages","weekColumnHeader","today","navigateTo","parentViews","events","componentTypes","classic","header","linksSelector","contentClasses","modern","setOptions","_destroySelectable","hide","navigate","destroy","off","_title","_table","current","view","focus","table","_bindTable","_option","navigateToPast","_navigate","navigateToFuture","navigateUp","index","navigateDown","isEqualDate","isNaN","to","currentView","compare","disabled","title","from","old","_oldTable","currentValue","future","viewWrapper","children","calendar","toggleClass","data","kendoStop","_changeView","html","removeAttr","content","otherMonth","isWeekColumnVisible","_aria","addClassToViewContainer","replace","_animate","_focus","_visualizeSelectedDatesInView","_selectCell","validSelectedDates","datesUnique","map","getTime","filter","position","array","time","grep","_validateValue","setHours","createDate","getFullYear","getMonth","getDate","isInRange","selectedDates","each","clear","cells","_selectElement","selectableOptions","parseOptions","aria","inputSelectors","multiple","change","_onSelect","relatedTarget","_onRelatedTarget","target","is","eventArgs","ctrlKey","metaKey","_toggleSelection","_cellsBySelector","_deselect","_addSelectedCellsToArray","shiftKey","_rangeSelection","currentCell","push","toDateCell","startDate","daysDifference","fromDate","toDate","daysBetweenTwoDates","addDaysToArray","selector","item","currentDateIndex","Number","splice","_dateInView","firstDateInView","_isNavigatable","cellIndex","isDisabled","eq","prevent","method","temp","key","keyCode","isRtl","RIGHT","LEFT","UP","DOWN","SPACEBAR","HOME","END","getHours","getMinutes","getSeconds","getMilliseconds","setFullYear","_todayClick","ENTER","_keyboardToggleSelection","focusedDate","setDate","_nextNavigatable","_keyboardRangeSelection","PAGEUP","PAGEDOWN","_unselect","navigatableDate","active","parent","remove","append","insertAfter","_horizontal","viewWidth","margin","add","width","wrap","display","complete","unwrap","kendoAnimate","_vertical","cell","insertBefore","left","parseInt","top","height","_selectedCell","removeAttribute","guid","appendTo","show","toString","actionAttr","getValidCssClass","arrow","modifier","has","option","isBigger","value1","value2","isEqualMonth","empty","toggle","isTodayDisabled","todayClass","_todayClass","footerTemplate","_updateAria","ariaTemplate","text","valueType","plugin","firstDayOfMonth","firstVisibleDay","calendarInfo","firstDay","getDay","setTime","tzOffsetBefore","getTimezoneOffset","resultDATE","tzOffsetDiff","getCalendarInfo","months","names","idx","navigateUrl","showHeader","hasUrl","currentCalendar","firstDayIdx","days","shiftArray","shortNames","namesShort","lastDayOfMonth","perRow","setter","build","cssClass","day","linkClass","i","inArray","dateString","join","weekNumberBuild","currentDate","timeOffset","Math","abs","date1","date2","month1","year1","month2","year2","hours","calendarMonths","namesAbbr","namesFull","label","setMonth","minYear","maxYear","end","modular","cellsPerRow","otherMonthTemplate","result","slice","concat","multiplier","endDate","fromDateUTC","UTC","endDateUTC","ceil","numberOfDays","nextDay","type","dateObject","calendars","standard","patterns","d","isFunction","Array","isArray","body","disabledDates","searchExpression","convertDatesArray","toLowerCase","Function","createDisabledExpr","noop","oldValue","newValue","split","isEqualDatePart","viewsEnum","jQuery"],"sources":["kendo.calendar.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.selectable.js';\n\nvar __meta__ = {\n    id: \"calendar\",\n    name: \"Calendar\",\n    category: \"web\",\n    description: \"The Calendar widget renders a graphical calendar that supports navigation and selection.\",\n    depends: [ \"core\", \"selectable\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        support = kendo.support,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        keys = kendo.keys,\n        parse = kendo.parseDate,\n        adjustDST = kendo.date.adjustDST,\n        weekInYear = kendo.date.weekInYear,\n        Selectable = kendo.ui.Selectable,\n        extractFormat = kendo._extractFormat,\n        template = kendo.template,\n        getCulture = kendo.getCulture,\n        transitions = kendo.support.transitions,\n        transitionOrigin = transitions ? transitions.css + \"transform-origin\" : \"\",\n        cellTemplate = template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\\\#\" data-#=data.ns#value=\"#=data.dateString#\">#=data.value#</a></td>', { useWithBlock: false }),\n        emptyCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\"><a class=\"k-link\"></a></td>', { useWithBlock: false }),\n        otherMonthCellTemplate = template('<td role=\"gridcell\" class=\"k-calendar-td k-out-of-range\">&nbsp;</td>', { useWithBlock: false }),\n        weekNumberTemplate = template('<td class=\"k-calendar-td k-alt\">#= data.weekNumber #</td>', { useWithBlock: false }),\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoCalendar\",\n        CLICK = \"click\" + ns,\n        KEYDOWN_NS = \"keydown\" + ns,\n        ID = \"id\",\n        MIN = \"min\",\n        LEFT = \"left\",\n        SLIDE = \"slideIn\",\n        MONTH = \"month\",\n        CENTURY = \"century\",\n        CHANGE = \"change\",\n        NAVIGATE = \"navigate\",\n        VALUE = \"value\",\n        HOVER = \"k-hover\",\n        DISABLED = \"k-disabled\",\n        FOCUSED = \"k-focus\",\n        OTHERMONTH = \"k-other-month\",\n        OUTOFRANGE = \"k-out-of-range\",\n        TODAY = \"k-nav-today\",\n        CELLSELECTOR = \"td:has(.k-link)\",\n        CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + OUTOFRANGE + \")\",\n        WEEKCOLUMNSELECTOR = \"td:not(:has(.k-link))\",\n        SELECTED = \"k-selected\",\n        BLUR = \"blur\" + ns,\n        FOCUS = \"focus\",\n        FOCUS_WITH_NS = FOCUS + ns,\n        MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n        MOUSEENTER_WITH_NS = support.touch ? \"touchstart\" + ns : \"mouseenter\" + ns,\n        MOUSELEAVE = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n        MS_PER_MINUTE = 60000,\n        MS_PER_DAY = 86400000,\n        PREVARROW = \"_prevArrow\",\n        NEXTARROW = \"_nextArrow\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_LABEL = \"aria-label\",\n        extend = $.extend,\n        DATE = Date,\n        views = {\n            month: 0,\n            year: 1,\n            decade: 2,\n            century: 3\n        },\n        HEADERSELECTOR = '.k-header, .k-calendar-header',\n        CLASSIC_HEADER_TEMPLATE = '<div class=\"k-header k-hstack\">' +\n            '<a tabindex=\"-1\" href=\"\\\\#\" #=actionAttr#=\"prev\" role=\"button\" class=\"k-nav-prev k-button #=size# k-rounded-md k-button-flat k-button-flat-base k-icon-button\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span></a>' +\n            '<a tabindex=\"-1\" href=\"\\\\#\" #=actionAttr#=\"nav-up\" role=\"button\" id=\"nav-up\" class=\"k-nav-fast k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-flex\"></a>' +\n            '<a tabindex=\"-1\" href=\"\\\\#\" #=actionAttr#=\"next\" role=\"button\" class=\"k-nav-next k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-icon k-i-arrow-60-right\"></span></a>' +\n        '</div>',\n        MODERN_HEADER_TEMPLATE = '<div class=\"k-calendar-header k-hstack\">' +\n            '<a href=\"\\\\#\" #=actionAttr#=\"nav-up\" id=\"nav-up\" role=\"button\" class=\"k-calendar-title k-title k-button #=size# k-rounded-md k-button-flat k-button-flat-base \"></a>' +\n            '<span class=\"k-spacer\"></span>' +\n            '<span class=\"k-calendar-nav k-hstack\">' +\n                '<a tabindex=\"-1\" #=actionAttr#=\"prev\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-prev-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span>' +\n                '</a>' +\n                '<a tabindex=\"-1\" #=actionAttr#=\"today\" class=\"k-nav-today\">#=messages.today#</a>' +\n                '<a tabindex=\"-1\" #=actionAttr#=\"next\" class=\"k-button #=size# k-rounded-md k-button-flat k-button-flat-base  k-icon-button k-next-view\">' +\n                    '<span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span>' +\n                '</a>' +\n            '</span>' +\n        '</div>';\n\n    var Calendar = Widget.extend({\n        init: function(element, options) {\n            var that = this, value, id;\n            options = options || {};\n            options.componentType = options.componentType || \"classic\";\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            options.url = kendo.unescape(options.url);\n\n            that.options.disableDates = getDisabledExpr(that.options.disableDates);\n\n            that._templates();\n\n            that._selectable();\n\n            that._header();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that._today = that.element.find('a.k-nav-today');\n                that._toggle();\n            }\n\n            id = element\n                .addClass(\"k-widget k-calendar \" + (options.weekNumber ? \" k-week-number\" : \"\"))\n                .on(MOUSEENTER_WITH_NS + \" \" + MOUSELEAVE, CELLSELECTOR, mousetoggle)\n                .on(KEYDOWN_NS, \"table.k-content\", that._move.bind(that))\n                .on(CLICK + \" touchend\", CELLSELECTOR, function(e) {\n                    var link = e.currentTarget.firstChild,\n                        value = toDateObject(link);\n\n                    if (link.href.indexOf(\"#\") != -1) {\n                        e.preventDefault();\n                    }\n\n                    if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                        return;\n                    }\n                    if (that._view.name != \"month\" || options.selectable == \"single\") {\n                            that._click($(link));\n                    }\n                })\n                .on(\"mouseup\" + ns, \"table.k-content, .k-footer\", function() {\n                    that._focusView(that.options.focusOnNav !== false);\n                })\n                .attr(ID);\n\n            if (that._isMultipleSelection() && that.options.weekNumber) {\n                element.on(CLICK, WEEKCOLUMNSELECTOR, function(e) {\n                        var first = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).first(),\n                            last = that.selectable._lastActive = $(e.currentTarget).closest(\"tr\").find(CELLSELECTORVALID).last();\n                        that.selectable.selectRange(first, last);\n                        that.selectable.trigger(CHANGE, { event: e });\n                        that._current = that._value = toDateObject(last.find(\"a\"));\n                        that._setCurrent(that._current);\n                });\n            }\n\n            normalize(options);\n            value = parse(options.value, options.format, options.culture);\n            that._selectDates = [];\n\n            that._index = views[options.start];\n\n            that._current = new DATE(+restrictValue(value, options.min, options.max));\n\n            that._addClassProxy = function() {\n                that._active = true;\n\n                if (that._cell.hasClass(DISABLED)) {\n                    var todayString = that._view.toDateString(getToday());\n                    that._cell = that._cellByDate(todayString);\n                }\n\n                that._cell.addClass(FOCUSED);\n            };\n\n            that._removeClassProxy = function() {\n                that._active = false;\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            };\n\n            that.value(value);\n\n            if (that._isMultipleSelection() && options.selectDates.length > 0) {\n                that.selectDates(options.selectDates);\n            }\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"Calendar\",\n            value: null,\n            min: new DATE(1900, 0, 1),\n            max: new DATE(2099, 11, 31),\n            dates: [],\n            disableDates: null,\n            url: \"\",\n            culture: \"\",\n            footer: \"\",\n            format: \"\",\n            month: {},\n            weekNumber: false,\n            selectable: \"single\",\n            selectDates: [],\n            start: MONTH,\n            depth: MONTH,\n            size: \"medium\",\n            animation: {\n                horizontal: {\n                    effects: SLIDE,\n                    reverse: true,\n                    duration: 500,\n                    divisor: 2\n                },\n                vertical: {\n                    effects: \"zoomIn\",\n                    duration: 400\n                }\n            },\n            messages: {\n                weekColumnHeader: \"\",\n                today: \"Today\",\n                navigateTo: \"Navigate to \",\n                parentViews: {\n                    month: \"year view\",\n                    year: \"decade view\",\n                    decade: \"century view\"\n                }\n            },\n            componentType: \"classic\"\n        },\n\n        events: [\n            CHANGE,\n            NAVIGATE\n        ],\n\n        componentTypes: {\n            \"classic\": {\n                header: {\n                    template: CLASSIC_HEADER_TEMPLATE\n                },\n                hasFooter: true,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content\"\n            },\n            \"modern\": {\n                header: {\n                    template: MODERN_HEADER_TEMPLATE\n                },\n                hasFooter: false,\n                linksSelector: \".k-button\",\n                contentClasses: \"k-calendar-table k-content k-calendar-content\"\n            }\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            normalize(options);\n\n            options.disableDates = getDisabledExpr(options.disableDates);\n            that._destroySelectable();\n\n            if (options.messages) {\n                options.messages = $.extend({}, true, that.options.messages, options.messages);\n            }\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._templates();\n\n            that._selectable();\n\n            that._viewWrapper();\n\n            if (that.options.hasFooter) {\n                that._footer(that.footer);\n            } else {\n                that.element.find(\".k-footer\").hide();\n                that._toggle();\n            }\n            that._index = views[that.options.start];\n\n            that.navigate();\n\n            if (options.weekNumber) {\n                that.element.addClass('k-week-number');\n            }\n        },\n\n        destroy: function() {\n            var that = this,\n            today = that._today;\n\n            that.element.off(ns);\n            that._title.off(ns);\n            that[PREVARROW].off(ns);\n            that[NEXTARROW].off(ns);\n            that._destroySelectable();\n            kendo.destroy(that._table);\n\n            if (today) {\n                kendo.destroy(today.off(ns));\n            }\n\n            Widget.fn.destroy.call(that);\n        },\n\n        current: function() {\n            return this._current;\n        },\n\n        view: function() {\n            return this._view;\n        },\n\n        focus: function(table) {\n            table = table || this._table;\n            this._bindTable(table);\n            table.trigger(\"focus\");\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        navigateToPast: function() {\n            this._navigate(PREVARROW, -1);\n        },\n\n        navigateToFuture: function() {\n            this._navigate(NEXTARROW, 1);\n        },\n\n        navigateUp: function() {\n            var that = this,\n            index = that._index;\n\n            if (that._title.hasClass(DISABLED)) {\n                return;\n            }\n\n            that.navigate(that._current, ++index);\n        },\n\n        navigateDown: function(value) {\n            var that = this,\n            index = that._index,\n            depth = that.options.depth;\n\n            if (!value) {\n                return;\n            }\n\n            if (index === views[depth]) {\n                if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                    that.value(value);\n                    that.trigger(CHANGE);\n                }\n                return;\n            }\n\n            that.navigate(value, --index);\n        },\n\n        navigate: function(value, view) {\n            view = isNaN(view) ? views[view] : view;\n\n            var that = this,\n                options = that.options,\n                culture = options.culture,\n                min = options.min,\n                max = options.max,\n                title = that._title,\n                from = that._table,\n                old = that._oldTable,\n                currentValue = that._current,\n                future = value && +value > +currentValue,\n                vertical = view !== undefined$1 && view !== that._index,\n                to, currentView, compare,\n                disabled,\n                viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!value) {\n                value = currentValue;\n            }\n\n            that._current = value = new DATE(+restrictValue(value, min, max));\n\n            if (view === undefined$1) {\n                view = that._index;\n            } else {\n                that._index = view;\n            }\n\n            that._view = currentView = calendar.views[view];\n            compare = currentView.compare;\n\n            disabled = view === views[CENTURY];\n            title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, min) < 1;\n            that[PREVARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            disabled = compare(value, max) > -1;\n            that[NEXTARROW].toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            if (from && old && old.data(\"animating\")) {\n                old.kendoStop(true, true);\n                from.kendoStop(true, true);\n            }\n\n            that._oldTable = from;\n\n            if (!from || that._changeView) {\n                title.html(currentView.title(value, min, max, culture));\n\n                if (that.options.messages.parentViews && that._view.name !== CENTURY) {\n                    title.attr(\"title\", that.options.messages.navigateTo + that.options.messages.parentViews[that._view.name]);\n                } else {\n                    title.removeAttr(\"title\");\n                }\n\n                that._table = to = $(currentView.content(extend({\n                    min: min,\n                    max: max,\n                    date: value,\n                    url: options.url,\n                    dates: options.dates,\n                    format: options.format,\n                    otherMonth: true,\n                    culture: culture,\n                    disableDates: options.disableDates,\n                    isWeekColumnVisible: options.weekNumber,\n                    messages: options.messages,\n                    contentClasses: that.options.contentClasses\n                }, that[currentView.name])));\n\n                that._aria();\n\n                addClassToViewContainer(to, currentView.name);\n                var replace = from && from.data(\"start\") === to.data(\"start\");\n                that._animate({\n                    from: from,\n                    to: to,\n                    vertical: vertical,\n                    future: future,\n                    replace: replace\n                });\n\n                viewWrapper.removeClass(\"k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview\");\n                viewWrapper.addClass(\"k-calendar-\" + currentView.name + \"view\");\n\n                that.trigger(NAVIGATE);\n\n                that._focus(value);\n            }\n\n            if (view === views[options.depth] && that._selectDates.length > 0) {\n                that._visualizeSelectedDatesInView();\n            }\n\n            if (that.options.selectable === \"single\") {\n                if (view === views[options.depth] && that._value && !that.options.disableDates(that._value)) {\n                    that._selectCell(that._value);\n                }\n            }\n\n            that._setCurrent(value);\n\n            if (!from && that._cell) {\n                that._cell.removeClass(FOCUSED);\n            }\n\n            that._changeView = true;\n        },\n\n        selectDates: function(dates) {\n            var that = this,\n                validSelectedDates,\n                datesUnique;\n\n            if (dates === undefined$1) {\n                return that._selectDates;\n            }\n\n            datesUnique = dates\n                .map(function(date) { return date.getTime(); })\n                .filter(function(date, position, array) {\n                    return array.indexOf(date) === position;\n                })\n                .map(function(time) { return new Date(time); });\n\n            validSelectedDates = $.grep(datesUnique, function(value) {\n                if (value) {\n                    return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                }\n            });\n            that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n            that._visualizeSelectedDatesInView();\n        },\n\n        value: function(value) {\n            var that = this,\n                old = that._view,\n                view = that._view;\n\n            if (value === undefined$1) {\n                return that._value;\n            }\n\n            value = that._validateValue(value);\n            if (value && that._isMultipleSelection()) {\n                var date = new Date(+value);\n                date.setHours(0, 0, 0, 0);\n                that._selectDates = [date];\n                that.selectable._lastActive = null;\n            }\n            if (old && value === null && that._cell) {\n                that._cell.removeClass(SELECTED);\n            } else {\n                that._changeView = !value || view && view.compare(value, that._current) !== 0;\n                that.navigate(value);\n            }\n        },\n\n        _aria: function() {\n            var table = this._table;\n\n            table.attr(\"aria-labelledby\", this._title.attr(\"id\"));\n\n            if (this._view.name === \"month\" && this.options.selectable === \"multiple\") {\n                table.attr(\"aria-multiselectable\", \"true\");\n            }\n        },\n\n        _validateValue: function(value) {\n            var that = this,\n                options = that.options,\n                min = options.min,\n                max = options.max;\n\n            if (value === null) {\n                that._current = createDate(that._current.getFullYear(), that._current.getMonth(), that._current.getDate());\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (value !== null) {\n                value = new DATE(+value);\n\n                if (!isInRange(value, min, max)) {\n                    value = null;\n                }\n            }\n\n            if (value === null || !that.options.disableDates(new Date(+value))) {\n                that._value = value;\n            } else if (that._value === undefined$1) {\n                that._value = null;\n            }\n\n            return that._value;\n        },\n\n        _visualizeSelectedDatesInView: function() {\n            var that = this;\n             var selectedDates = {};\n            $.each(that._selectDates, function(index, value) {\n                selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n            });\n            that.selectable.clear();\n             var cells = that._table\n                .find(CELLSELECTOR)\n                .filter(function(index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n            if (cells.length > 0) {\n                that.selectable._selectElement(cells, true);\n            }\n        },\n\n        _isMultipleSelection: function() {\n            var that = this;\n            return that.options.selectable === \"multiple\";\n        },\n\n        _selectable: function() {\n            var that = this;\n            if (!that._isMultipleSelection()) {\n                return;\n            }\n\n            var selectable = that.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n\n            that.selectable = new Selectable(that.wrapper, {\n                aria: true,\n                //excludes the anchor element\n                inputSelectors: \"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up\",\n                multiple: selectableOptions.multiple,\n                filter: \"table.k-month:eq(0) \" + CELLSELECTORVALID,\n                change: that._onSelect.bind(that),\n                relatedTarget: that._onRelatedTarget.bind(that)\n            });\n        },\n\n        _onRelatedTarget: function(target) {\n            var that = this;\n\n            if (that.selectable.options.multiple && target.is(CELLSELECTORVALID)) {\n                that._current = toDateObject(target.find(\"a\"));\n                that._setCurrent(that._current);\n            }\n\n        },\n\n        _onSelect: function(e) {\n            var that = this,\n                eventArgs = e,\n                selectableOptions = Selectable.parseOptions(that.options.selectable);\n\n            if (!selectableOptions.multiple) {\n                if ($(eventArgs.event.currentTarget).is(\"td\") && !$(eventArgs.event.currentTarget).hasClass(\"k-selected\")) {\n                    $(eventArgs.event.currentTarget).addClass(\"k-selected\");\n                }\n                else {\n                    that._click($(eventArgs.event.currentTarget).find(\"a\"));\n                }\n                return;\n            }\n\n            if (eventArgs.event.ctrlKey || eventArgs.event.metaKey) {\n                if ($(eventArgs.event.currentTarget).is(CELLSELECTORVALID)) {\n                    that._toggleSelection($(eventArgs.event.currentTarget));\n                }\n                else {\n                    that._cellsBySelector(CELLSELECTORVALID).each(function(index, element) {\n                        var value = toDateObject($(element).find(\"a\"));\n                        that._deselect(value);\n                    });\n                    that._addSelectedCellsToArray();\n                }\n            }\n            else if (eventArgs.event.shiftKey) {\n                that._rangeSelection(that._cell);\n            }\n            else if ($(eventArgs.event.currentTarget).is(CELLSELECTOR)) {\n                that.value(toDateObject($(eventArgs.event.currentTarget).find(\"a\")));\n            }\n            else {\n                that._selectDates = [];\n                that._addSelectedCellsToArray();\n            }\n             that.trigger(CHANGE);\n        },\n\n        _destroySelectable: function() {\n            var that = this;\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n        },\n\n        //when ctrl key is clicked\n        _toggleSelection: function(currentCell) {\n            var that = this,\n                date = toDateObject(currentCell.find(\"a\"));\n                if (currentCell.hasClass(\"k-selected\")) {\n                    that._selectDates.push(date);\n                }\n                else {\n                    that._deselect(date);\n                }\n        },\n\n        //shift selection\n        _rangeSelection: function(toDateCell, startDate) {\n            var that = this,\n                fromDate = startDate || toDateObject(that.selectable.value().first().find(\"a\")),\n                toDate = toDateObject(toDateCell.find(\"a\")),\n                daysDifference;\n\n            if (that.selectable._lastActive || that._value) {\n                fromDate = that.selectable._lastActive ? toDateObject(that.selectable._lastActive.find(\"a\")) : new Date(+that._value);\n            } else {\n                that.selectable._lastActive = startDate ? that._cellByDate(that._view.toDateString(startDate), CELLSELECTORVALID) : that.selectable.value().first();\n            }\n\n            that._selectDates = [];\n            daysDifference = daysBetweenTwoDates(fromDate, toDate);\n            addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n            that._visualizeSelectedDatesInView();\n        },\n\n        _cellsBySelector: function(selector) {\n            var that = this;\n            return that._table.find(selector);\n        },\n\n        _addSelectedCellsToArray: function() {\n            var that = this;\n            that.selectable.value().each(function(index, item) {\n                var date = toDateObject($(item.firstChild));\n                if (!that.options.disableDates(date)) {\n                    that._selectDates.push(date);\n                }\n            });\n        },\n\n         _deselect: function(date) {\n            var that = this;\n             var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n            if (currentDateIndex != -1) {\n                that._selectDates.splice(currentDateIndex, 1);\n            }\n        },\n\n        _dateInView: function(date) {\n            var that = this,\n                firstDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).first().find(\"a\")),\n                lastDateInView = toDateObject(that._cellsBySelector(CELLSELECTORVALID).last().find(\"a\"));\n\n            return +date <= +lastDateInView && +date >= +firstDateInView;\n        },\n\n        _isNavigatable: function(currentValue, cellIndex) {\n            var that = this;\n            var isDisabled = that.options.disableDates;\n            var cell;\n            var index;\n\n            if (that._view.name == \"month\") {\n                return !isDisabled(currentValue);\n            } else {\n                index = that.wrapper.find(\".\" + FOCUSED).index();\n                cell = that.wrapper.find(\".k-content td\").eq(index + cellIndex);\n                return cell.is(CELLSELECTORVALID) || !isDisabled(currentValue);\n            }\n        },\n\n        _move: function(e) {\n            var that = this,\n                options = that.options,\n                key = e.keyCode,\n                view = that._view,\n                index = that._index,\n                min = that.options.min,\n                max = that.options.max,\n                currentValue = new DATE(+that._current),\n                isRtl = kendo.support.isRtl(that.wrapper),\n                isDisabled = that.options.disableDates,\n                value, prevent, method, temp;\n\n            if (e.target === that._table[0]) {\n                that._active = true;\n            }\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                value = 1;\n                prevent = true;\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                value = -1;\n                prevent = true;\n            } else if (key == keys.UP) {\n                value = index === 0 ? -7 : -4;\n                prevent = true;\n            } else if (key == keys.DOWN) {\n                value = index === 0 ? 7 : 4;\n                prevent = true;\n            } else if (key == keys.SPACEBAR) {\n                value = 0;\n                prevent = true;\n            } else if (key == keys.HOME || key == keys.END) {\n                method = key == keys.HOME ? \"first\" : \"last\";\n                temp = view[method](currentValue);\n                currentValue = new DATE(temp.getFullYear(), temp.getMonth(), temp.getDate(), currentValue.getHours(), currentValue.getMinutes(), currentValue.getSeconds(), currentValue.getMilliseconds());\n                currentValue.setFullYear(temp.getFullYear());\n                prevent = true;\n            } else if (key === 84) {\n                that._todayClick(e);\n                prevent = true;\n            }\n\n            if (e.ctrlKey || e.metaKey) {\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    that.navigateToFuture();\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    that.navigateToPast();\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    that.navigateUp();\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    that._click($(that._cell[0].firstChild));\n                    prevent = true;\n                }\n                  else if ((key == keys.ENTER || key == keys.SPACEBAR) && that._isMultipleSelection()) {\n                    that._keyboardToggleSelection(e);\n\n                    var focusedDate = toDateObject($(that._cell[0]).find(\"a\"));\n                    that._setCurrent(focusedDate);\n\n                }\n            } else if (e.shiftKey) {\n                if (value !== undefined$1 || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (isDisabled(currentValue)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                    if (that._isMultipleSelection()) {\n                        that._keyboardRangeSelection(e, currentValue);\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            } else {\n                if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    if (view.name == \"month\" && that._isMultipleSelection()) {\n                        that.value(toDateObject($(that._cell.find(\"a\"))));\n                        that.selectable._lastActive = $(that._cell[0]);\n                        that.trigger(CHANGE);\n                    }\n                    else {\n                        that._click($(that._cell[0].firstChild));\n                    }\n                    prevent = true;\n                } else if (key == keys.PAGEUP) {\n                    prevent = true;\n                    that.navigateToPast();\n                } else if (key == keys.PAGEDOWN) {\n                    prevent = true;\n                    that.navigateToFuture();\n                }\n\n                if (value || method) {\n                    if (!method) {\n                        view.setDate(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = restrictValue(currentValue, options.min, options.max);\n                    }\n\n                    if (!that._isNavigatable(currentValue, value)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    if (that._isMultipleSelection()) {\n                        if (!that._dateInView(currentValue)) {\n                            that.navigate(currentValue);\n                        }\n                        else {\n                            that._current = currentValue;\n                            that._setCurrent(currentValue);\n                        }\n                    }\n                    else {\n                        that._focus(currentValue);\n                    }\n                }\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n\n            return that._current;\n        },\n\n        _keyboardRangeSelection: function(event, currentValue) {\n            var that = this,\n                fromDate,\n                daysDifference;\n\n            if (!that._dateInView(currentValue)) {\n                that._selectDates = [];\n\n                fromDate = that.selectable._lastActive ? toDateObject(that.selectable._lastActive.find(\"a\")) : currentValue;\n                daysDifference = daysBetweenTwoDates(fromDate, new Date(+currentValue));\n\n                addDaysToArray(that._selectDates, daysDifference, fromDate, that.options.disableDates);\n\n                that.navigate(currentValue);\n                that._current = currentValue;\n                that.selectable._lastActive = that.selectable._lastActive || that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID);\n                that.trigger(CHANGE);\n                return;\n            }\n            that.selectable.options.filter = that.wrapper.find(\"table\").length > 1 && +currentValue > +that._current ? \"table.k-month:eq(1) \" + CELLSELECTORVALID : \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n            that._setCurrent(currentValue);\n            that._current = currentValue;\n\n            that._rangeSelection(that._cellByDate(that._view.toDateString(currentValue), CELLSELECTORVALID), currentValue);\n\n            that.trigger(CHANGE);\n\n            that.selectable.options.filter = \"table.k-month:eq(0) \" + CELLSELECTORVALID;\n        },\n\n        _keyboardToggleSelection: function(event) {\n            var that = this;\n\n            event.currentTarget = that._cell[0];\n            that.selectable._lastActive = $(that._cell[0]);\n\n            if ($(that._cell[0]).hasClass(SELECTED)) {\n                that.selectable._unselect($(that._cell[0]));\n            }\n            else {\n                that.selectable.value($(that._cell[0]));\n            }\n            that.selectable.trigger(CHANGE, { event: event });\n        },\n\n        _nextNavigatable: function(currentValue, value) {\n            var that = this,\n            disabled = true,\n            view = that._view,\n            min = that.options.min,\n            max = that.options.max,\n            isDisabled = that.options.disableDates,\n            navigatableDate = new Date(currentValue.getTime());\n\n            view.setDate(navigatableDate, -value);\n\n            while (disabled) {\n                view.setDate(currentValue, value);\n\n                if (!isInRange(currentValue, min, max)) {\n                    currentValue = navigatableDate;\n                    break;\n                }\n                disabled = isDisabled(currentValue);\n            }\n            return currentValue;\n        },\n\n        _animate: function(options) {\n            var that = this;\n            var from = options.from;\n            var to = options.to;\n            var active = that._active;\n            var viewWrapper = that.element.children(\".k-calendar-view\");\n\n            if (!from) {\n                viewWrapper.append(to);\n                that._bindTable(to);\n            } else if (from.parent().data(\"animating\")) {\n                from.off(ns);\n                from.parent().kendoStop(true, true).remove();\n                from.remove();\n\n                viewWrapper.append(to);\n                that._focusView(active);\n            } else if (!from.is(\":visible\") || that.options.animation === false || options.replace) {\n                to.insertAfter(from);\n                from.off(ns).remove();\n\n                that._focusView(active);\n            } else {\n                that[options.vertical ? \"_vertical\" : \"_horizontal\"](from, to, options.future);\n            }\n        },\n\n        _horizontal: function(from, to, future) {\n            var that = this,\n                active = that._active,\n                horizontal = that.options.animation.horizontal,\n                effects = horizontal.effects,\n                viewWidth = outerWidth(from),\n                margin = (outerWidth(from, true) - viewWidth);\n\n            if (effects && effects.indexOf(SLIDE) != -1) {\n                from.add(to).css({ width: viewWidth });\n\n                from.wrap(\"<div/>\");\n\n                that._focusView(active, from);\n\n                from.parent()\n                .css({\n                    position: \"relative\",\n                    width: (viewWidth * 2) + (2 * margin),\n                    display: \"flex\",\n                    \"margin-left\": future ? 0 : (-viewWidth - margin)\n                });\n\n                to[future ? \"insertAfter\" : \"insertBefore\"](from);\n\n                extend(horizontal, {\n                    effects: SLIDE + \":\" + (future ? \"right\" : LEFT),\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        to.unwrap();\n\n                        that._focusView(active);\n\n                    }\n                });\n\n                from.parent().kendoStop(true, true).kendoAnimate(horizontal);\n            }\n        },\n\n        _vertical: function(from, to) {\n            var that = this,\n                vertical = that.options.animation.vertical,\n                effects = vertical.effects,\n                active = that._active, //active state before from's blur\n                cell, position;\n\n            if (effects && effects.indexOf(\"zoom\") != -1) {\n                to.insertBefore(from);\n\n                from.css({\n                    position: \"absolute\",\n                    width: to.width()\n                });\n\n                if (transitionOrigin) {\n                    cell = that._cellByDate(that._view.toDateString(that._current));\n                    position = cell.position();\n                    position = (position.left + parseInt(cell.width() / 2, 10)) + \"px\" + \" \" + (position.top + parseInt(cell.height() / 2, 10) + \"px\");\n                    to.css(transitionOrigin, position);\n                }\n\n                from.kendoStop(true, true).kendoAnimate({\n                    effects: \"fadeOut\",\n                    duration: 600,\n                    complete: function() {\n                        from.off(ns).remove();\n                        that._oldTable = null;\n\n                        that._focusView(active);\n                    }\n                });\n\n                to.kendoStop(true, true).kendoAnimate(vertical);\n            }\n        },\n\n        _cellByDate: function(value, selector) {\n            return this._table.find(selector ? selector : \"td:not(.\" + OTHERMONTH + \")\")\n            .filter(function() {\n                return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n            });\n        },\n\n        _selectCell: function(date) {\n            var that = this,\n                cell = that._selectedCell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell[0].removeAttribute(ARIA_SELECTED);\n                    cell.removeClass(SELECTED);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR : \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._selectedCell = cell;\n                cell.addClass(SELECTED)\n                    .attr(ARIA_SELECTED, true);\n        },\n\n        _setCurrent: function(date) {\n            var that = this,\n                id = kendo.guid(),\n                cell = that._cell,\n                value = that._view.toDateString(date);\n\n                if (cell && cell[0]) {\n                    cell.removeClass(FOCUSED);\n                    cell[0].removeAttribute(ARIA_LABEL);\n                    cell[0].removeAttribute(ID);\n                }\n\n                cell = that._cellByDate(value, that.options.selectable == \"multiple\" ? CELLSELECTOR : \"td:not(.\" + OTHERMONTH + \")\");\n\n                that._cell = cell;\n\n                cell.attr(ID, id)\n                    .addClass(FOCUSED);\n\n                if (that._table[0]) {\n                    that._table[0].removeAttribute(\"aria-activedescendant\");\n                    that._table.attr(\"aria-activedescendant\", id);\n                }\n        },\n\n        _bindTable: function(table) {\n            table\n            .on(FOCUS_WITH_NS, this._addClassProxy)\n            .on(BLUR, this._removeClassProxy);\n        },\n\n        _click: function(link) {\n            var that = this,\n            options = that.options,\n            currentValue = new Date(+that._current),\n            value = toDateObject(link);\n\n            adjustDST(value, 0);\n\n            if (that._view.name == \"month\" && that.options.disableDates(value)) {\n                value = that._value;\n            }\n\n            that._view.setDate(currentValue, value);\n\n            that.navigateDown(restrictValue(currentValue, options.min, options.max));\n        },\n\n        _focus: function(value) {\n            var that = this,\n            view = that._view;\n\n            if (view.compare(value, that._current) !== 0) {\n                that.navigate(value);\n            } else {\n                that._current = value;\n                that._setCurrent(value);\n            }\n        },\n\n        _focusView: function(active, table) {\n            if (active) {\n                this.focus(table);\n            }\n        },\n\n        _viewWrapper: function() {\n            var that = this;\n            var element = that.element;\n            var viewWrapper = element.children(\".k-calendar-view\");\n\n            if (!viewWrapper[0]) {\n                viewWrapper = $(\"<div class='k-calendar-view' />\").insertAfter(element.find(HEADERSELECTOR));\n            }\n        },\n\n        _footer: function(template) {\n            var that = this,\n            today = getToday(),\n            element = that.element,\n            footer = element.find(\".k-footer\");\n\n            if (!template) {\n                that._toggle(false);\n                footer.hide();\n                return;\n            }\n\n            if (!footer[0]) {\n                footer = $('<div class=\"k-footer\"><a tabindex=\"-1\" href=\"#\" class=\"k-link k-nav-today\"></a></div>').appendTo(element);\n            }\n\n            that._today = footer.show()\n                .find(\".k-link\")\n                .html(template(today))\n                .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n            that._toggle();\n        },\n\n        _header: function() {\n            var that = this,\n            element = that.element,\n            linksSelector = that.options.linksSelector;\n\n            if (!element.find(HEADERSELECTOR)[0]) {\n                element.html(kendo.template(that.options.header.template)($.extend(true,{}, that.options, {\n                    actionAttr: kendo.attr(\"action\"),\n                    size: kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size)\n                })));\n            }\n\n            element.find(linksSelector)\n                .on(CLICK + \" touchend\" + ns, function() { return false; } );\n\n            that._title = element.find('[' + kendo.attr(\"action\") + '=\"nav-up\"]').on(CLICK + \" touchend\" + ns, function() {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateUp();\n            });\n            that[PREVARROW] = element.find('[' + kendo.attr(\"action\") + '=\"prev\"]').on(CLICK + \" touchend\" + ns, function() {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToPast();\n            });\n            that[NEXTARROW] = element.find('[' + kendo.attr(\"action\") + '=\"next\"]').on(CLICK + \" touchend\" + ns, function() {\n                that._active = that.options.focusOnNav !== false;\n                that.navigateToFuture();\n            });\n            element.find('[' + kendo.attr(\"action\") + '=\"today\"]').on(CLICK + \" touchend\" + ns, that._todayClick.bind(that));\n\n        },\n\n        _navigate: function(arrow, modifier) {\n            var that = this,\n            index = that._index + 1,\n            currentValue = new DATE(+that._current);\n\n            if (that._isMultipleSelection()) {\n                var firstDayCurrentMonth = that._table.find(\"td:not(.k-other-month):not(.k-out-of-range)\").has(\".k-link\").first();\n                currentValue = toDateObject(firstDayCurrentMonth.find(\"a\"));\n                that._current = new Date(+currentValue);\n            }\n\n            arrow = that[arrow];\n\n            if (!arrow.hasClass(DISABLED)) {\n                if (index > 3) {\n                    currentValue.setFullYear(currentValue.getFullYear() + 100 * modifier);\n                } else {\n                    calendar.views[index].setDate(currentValue, modifier);\n                }\n\n                that.navigate(currentValue);\n            }\n        },\n\n        _option: function(option, value) {\n            var that = this,\n                options = that.options,\n                currentValue = that._value || that._current,\n                isBigger;\n\n            if (value === undefined$1) {\n                return options[option];\n            }\n\n            value = parse(value, options.format, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n\n            if (option === MIN) {\n                isBigger = value > currentValue;\n            } else {\n                isBigger = currentValue > value;\n            }\n\n            if (isBigger || isEqualMonth(currentValue, value)) {\n                if (isBigger) {\n                    that._value = null;\n                }\n                that._changeView = true;\n            }\n\n            if (!that._changeView) {\n                that._changeView = !!(options.month.content || options.month.empty);\n            }\n\n            that.navigate(that._value);\n\n            that._toggle();\n        },\n\n        _toggle: function(toggle) {\n            var that = this,\n                options = that.options,\n                isTodayDisabled = that.options.disableDates(getToday()),\n                link = that._today,\n                todayClass = that._todayClass();\n\n            if (toggle === undefined$1) {\n                toggle = isInRange(getToday(), options.min, options.max);\n            }\n\n            if (link) {\n                link.off(CLICK);\n\n                if (toggle && !isTodayDisabled) {\n                    link.addClass(todayClass)\n                    .removeClass(DISABLED)\n                    .on(CLICK, that._todayClick.bind(that));\n                } else {\n                    link.removeClass(todayClass)\n                    .addClass(DISABLED)\n                    .on(CLICK, prevent);\n                }\n            }\n        },\n\n        _todayClass: function() {\n            return TODAY;\n        },\n\n        _todayClick: function(e) {\n            var that = this,\n            depth = views[that.options.depth],\n            disabled = that.options.disableDates,\n            today = getToday();\n\n            e.preventDefault();\n\n            if (disabled(today)) {\n                return;\n            }\n\n            if (that._view.compare(that._current, today) === 0 && that._index == depth) {\n                that._changeView = false;\n            }\n\n            if (that._isMultipleSelection()) {\n                that._selectDates = [today];\n                that.selectable._lastActive = null;\n            }\n\n            that._value = today;\n            that.navigate(today, depth);\n\n            that.trigger(CHANGE);\n        },\n\n        _templates: function() {\n            var that = this,\n                options = that.options,\n                footer = options.footer,\n                month = options.month,\n                content = month.content,\n                weekNumber = month.weekNumber,\n                empty = month.empty,\n                footerTemplate = '#= kendo.toString(data,\"D\",\"' + options.culture + '\") #';\n\n            that.month = {\n                content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" ' + kendo.attr(VALUE) + '=\"#=data.dateString#\" title=\"#=data.title#\">' + (content || \"#=data.value#\") + '</a></td>', { useWithBlock: !!content }),\n                empty: template('<td role=\"gridcell\">' + (empty || \"&nbsp;\") + \"</td>\", { useWithBlock: !!empty }),\n                weekNumber: template('<td class=\"k-alt\">' + (weekNumber || \"#= data.weekNumber #\") + \"</td>\", { useWithBlock: !!weekNumber })\n            };\n\n            that.year = {\n                content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link\" href=\"\\\\#\" data-#=data.ns#value=\"#=data.dateString#\" aria-label=\"#=data.label#\">#=data.value#</a></td>', { useWithBlock: false })\n            };\n\n            if (footer && footer !== true) {\n                footerTemplate = footer;\n            }\n\n            that.footer = footer !== false ? template(footerTemplate, { useWithBlock: false }) : null;\n        },\n\n        _updateAria: function(ariaTemplate, date) {\n            var that = this;\n            var cell = that._cell;\n            var valueType = that.view().valueType();\n            var current = date || that.current();\n            var text;\n\n            if (valueType === \"month\") {\n                text = kendo.toString(current, \"MMMM\");\n            } else if (valueType === \"date\") {\n                text = kendo.toString(current, \"D\");\n            } else {\n                text = cell.text();\n            }\n\n            cell.attr(\"aria-label\", ariaTemplate({ current: current, valueType: valueType, text: text }));\n\n            return cell.attr(\"id\");\n        }\n    });\n\n    ui.plugin(Calendar);\n\n    var calendar = {\n        firstDayOfMonth: function(date) {\n            return createDate(\n                date.getFullYear(),\n                date.getMonth(),\n                1\n            );\n        },\n\n        firstVisibleDay: function(date, calendarInfo) {\n            calendarInfo = calendarInfo || kendo.culture().calendar;\n\n            var firstDay = calendarInfo.firstDay,\n            firstVisibleDay = new DATE(date.getFullYear(), date.getMonth(), 1, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n            firstVisibleDay.setFullYear(date.getFullYear());\n\n            while (firstVisibleDay.getDay() != firstDay) {\n                calendar.setTime(firstVisibleDay, -1 * MS_PER_DAY);\n            }\n\n            return firstVisibleDay;\n        },\n\n        setTime: function(date, time) {\n            var tzOffsetBefore = date.getTimezoneOffset(),\n            resultDATE = new DATE(date.getTime() + time),\n            tzOffsetDiff = resultDATE.getTimezoneOffset() - tzOffsetBefore;\n\n            date.setTime(resultDATE.getTime() + tzOffsetDiff * MS_PER_MINUTE);\n        },\n        views: [{\n            name: MONTH,\n            title: function(date, min, max, culture) {\n                return getCalendarInfo(culture).months.names[date.getMonth()] + \" \" + date.getFullYear();\n            },\n            content: function(options) {\n                var that = this,\n                    idx = 0,\n                    min = options.min,\n                    max = options.max,\n                    date = options.date,\n                    dates = options.dates,\n                    format = options.format,\n                    culture = options.culture,\n                    navigateUrl = options.url,\n                    showHeader = options.showHeader,\n                    otherMonth = options.otherMonth,\n                    isWeekColumnVisible = options.isWeekColumnVisible,\n                    hasUrl = navigateUrl && dates[0],\n                    currentCalendar = getCalendarInfo(culture),\n                    firstDayIdx = currentCalendar.firstDay,\n                    days = currentCalendar.days,\n                    names = shiftArray(days.names, firstDayIdx),\n                    shortNames = shiftArray(days.namesShort, firstDayIdx),\n                    start = calendar.firstVisibleDay(date, currentCalendar),\n                    firstDayOfMonth = that.first(date),\n                    lastDayOfMonth = that.last(date),\n                    toDateString = that.toDateString,\n                    today = getToday(),\n                    contentClasses = options.contentClasses,\n                    html = '<table tabindex=\"0\" role=\"grid\" class=\"' + contentClasses + '\" cellspacing=\"0\" data-start=\"' + toDateString(start) + '\">';\n\n                if (showHeader) {\n                    html += '<caption class=\"k-calendar-caption k-month-header\">' + this.title(date, min, max, culture) + '</caption>';\n                }\n\n                html += '<thead class=\"k-calendar-thead\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n                if (isWeekColumnVisible) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th k-alt\">' + options.messages.weekColumnHeader + '</th>';\n                }\n\n                for (; idx < 7; idx++) {\n                    html += '<th scope=\"col\" class=\"k-calendar-th\" aria-label=\"' + names[idx] + '\">' + shortNames[idx] + '</th>';\n                }\n\n                adjustDST(today, 0);\n                today = +today;\n\n                return view({\n                    cells: 42,\n                    perRow: 7,\n                    html: html += '</tr></thead><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">',\n                    start: createDate(start.getFullYear(), start.getMonth(), start.getDate()),\n                    isWeekColumnVisible: isWeekColumnVisible,\n                    weekNumber: options.weekNumber,\n                    min: createDate(min.getFullYear(), min.getMonth(), min.getDate()),\n                    max: createDate(max.getFullYear(), max.getMonth(), max.getDate()),\n                    otherMonth: otherMonth,\n                    content: options.content,\n                    lastDayOfMonth: lastDayOfMonth,\n                    empty: options.empty,\n                    setter: that.setDate,\n                    disableDates: options.disableDates,\n                    build: function(date, idx, disableDates) {\n                        var cssClass = [ \"k-calendar-td\" ],\n                            day = date.getDay(),\n                            linkClass = \"\",\n                            url = \"#\";\n\n                        if (date < firstDayOfMonth || date > lastDayOfMonth) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (disableDates(date)) {\n                            cssClass.push(DISABLED);\n                        }\n\n                        if (+date === today) {\n                            cssClass.push(\"k-today\");\n                        }\n\n                        if (day === 0 || day === 6) {\n                            cssClass.push(\"k-weekend\");\n                        }\n\n                        if (hasUrl && inArray(+date, dates)) {\n                            url = navigateUrl.replace(\"{0}\", kendo.toString(date, format, culture));\n                            linkClass = \" k-action-link\";\n                        }\n\n                        return {\n                            date: date,\n                            dates: dates,\n                            ns: kendo.ns,\n                            title: kendo.toString(date, \"D\", culture),\n                            value: date.getDate(),\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \"),\n                            linkClass: linkClass,\n                            url: url\n                        };\n                    },\n                    weekNumberBuild: function(date) {\n                        return {\n                            weekNumber: weekInYear(date, kendo.culture().calendar.firstDay),\n                            currentDate: date\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return calendar.firstDayOfMonth(date);\n            },\n            last: function(date) {\n                var last = createDate(date.getFullYear(), date.getMonth() + 1, 0),\n                first = calendar.firstDayOfMonth(date),\n                timeOffset = Math.abs(last.getTimezoneOffset() - first.getTimezoneOffset());\n\n                if (timeOffset) {\n                    last.setHours(first.getHours() + (timeOffset / 60));\n                }\n\n                return last;\n            },\n            compare: function(date1, date2) {\n                var result,\n                month1 = date1.getMonth(),\n                year1 = date1.getFullYear(),\n                month2 = date2.getMonth(),\n                year2 = date2.getFullYear();\n\n                if (year1 > year2) {\n                    result = 1;\n                } else if (year1 < year2) {\n                    result = -1;\n                } else {\n                    result = month1 == month2 ? 0 : month1 > month2 ? 1 : -1;\n                }\n\n                return result;\n            },\n            setDate: function(date, value) {\n                var hours = date.getHours();\n                if (value instanceof DATE) {\n                    date.setFullYear(value.getFullYear(), value.getMonth(), value.getDate());\n                } else {\n                    calendar.setTime(date, value * MS_PER_DAY);\n                }\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/\" + date.getDate();\n            },\n            valueType: function() {\n                return \"date\";\n            }\n        },\n        {\n            name: \"year\",\n            title: function(date) {\n                return date.getFullYear();\n            },\n            content: function(options) {\n                var calendarMonths = getCalendarInfo(options.culture).months,\n                    namesAbbr = calendarMonths.namesAbbr,\n                    namesFull = calendarMonths.names,\n                    toDateString = this.toDateString,\n                    min = options.min,\n                    max = options.max,\n                    html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    min: createDate(min.getFullYear(), min.getMonth(), 1),\n                    max: createDate(max.getFullYear(), max.getMonth(), 1),\n                    start: createDate(options.date.getFullYear(), 0, 1),\n                    html: html,\n                    setter: this.setDate,\n                    content: options.content,\n                    build: function(date) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        return {\n                            value: namesAbbr[date.getMonth()],\n                            label: namesFull[date.getMonth()],\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                return createDate(date.getFullYear(), 0, date.getDate());\n            },\n            last: function(date) {\n                return createDate(date.getFullYear(), 11, date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2);\n            },\n            setDate: function(date, value) {\n                var month,\n                hours = date.getHours();\n\n                if (value instanceof DATE) {\n                    month = value.getMonth();\n\n                    date.setFullYear(value.getFullYear(), month, date.getDate());\n\n                    if (month !== date.getMonth()) {\n                        date.setDate(0);\n                    }\n                } else {\n                    month = date.getMonth() + value;\n\n                    date.setMonth(month);\n\n                    if (month > 11) {\n                        month -= 12;\n                    }\n\n                    if (month > 0 && date.getMonth() != month) {\n                        date.setDate(0);\n                    }\n                }\n\n                adjustDST(date, hours);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/\" + date.getMonth() + \"/1\";\n            },\n            valueType: function() {\n                return \"month\";\n            }\n        },\n        {\n            name: \"decade\",\n            title: function(date, min, max) {\n                return title(date, min, max, 10);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                toDateString = this.toDateString,\n                html = \"\";\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-thead\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 10 - 1, 0, 1),\n                    min: createDate(options.min.getFullYear(), 0, 1),\n                    max: createDate(options.max.getFullYear(), 0, 1),\n                    otherMonth: options.otherMonth,\n                    html: html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        return {\n                            value: date.getFullYear(),\n                            ns: kendo.ns,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 10 + 9, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 10);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 1);\n            },\n            toDateString: function(date) {\n                return date.getFullYear() + \"/0/1\";\n            },\n            valueType: function() {\n                return \"year\";\n            }\n        },\n        {\n            name: CENTURY,\n            title: function(date, min, max) {\n                return title(date, min, max, 100);\n            },\n            content: function(options) {\n                var year = options.date.getFullYear(),\n                min = options.min.getFullYear(),\n                max = options.max.getFullYear(),\n                toDateString = this.toDateString,\n                minYear = min,\n                maxYear = max,\n                html = \"\";\n\n                minYear = minYear - minYear % 10;\n                maxYear = maxYear - maxYear % 10;\n\n                if (maxYear - minYear < 10) {\n                    maxYear = minYear + 9;\n                }\n\n                if (options.showHeader) {\n                    html += '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\">';\n                        html += '<caption class=\"k-calendar-caption k-meta-header\">';\n                            html += this.title(options.date, options.min, options.max);\n                        html += '</caption>';\n                        html += '<tbody class=\"k-calendar-tbody\">';\n                            html += '<tr role=\"row\" class=\"k-calendar-tr\">';\n                }\n\n                return view({\n                    start: createDate(year - year % 100 - 10, 0, 1),\n                    min: createDate(minYear, 0, 1),\n                    max: createDate(maxYear, 0, 1),\n                    otherMonth: options.otherMonth,\n                    html: html,\n                    setter: this.setDate,\n                    build: function(date, idx) {\n                        var cssClass = [ \"k-calendar-td\" ];\n                        var start = date.getFullYear(),\n                            end = start + 9;\n\n                        if (idx === 0 || idx === 11) {\n                            cssClass.push(OTHERMONTH);\n                        }\n\n                        if (start < min) {\n                            start = min;\n                        }\n\n                        if (end > max) {\n                            end = max;\n                        }\n\n                        return {\n                            ns: kendo.ns,\n                            value: start + \" - \" + end,\n                            dateString: toDateString(date),\n                            cssClass: cssClass.join(\" \")\n                        };\n                    }\n                });\n            },\n            first: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100, date.getMonth(), date.getDate());\n            },\n            last: function(date) {\n                var year = date.getFullYear();\n                return createDate(year - year % 100 + 99, date.getMonth(), date.getDate());\n            },\n            compare: function(date1, date2) {\n                return compare(date1, date2, 100);\n            },\n            setDate: function(date, value) {\n                setDate(date, value, 10);\n            },\n            toDateString: function(date) {\n                var year = date.getFullYear();\n                return (year - year % 10) + \"/0/1\";\n            },\n            valueType: function() {\n                return \"decade\";\n            }\n        }]\n    };\n\n    function title(date, min, max, modular) {\n        var start = date.getFullYear(),\n            minYear = min.getFullYear(),\n            maxYear = max.getFullYear(),\n            end;\n\n        start = start - start % modular;\n        end = start + (modular - 1);\n\n        if (start < minYear) {\n            start = minYear;\n        }\n        if (end > maxYear) {\n            end = maxYear;\n        }\n\n        return start + \"-\" + end;\n    }\n\n    function view(options) {\n        var idx = 0,\n            data,\n            min = options.min,\n            max = options.max,\n            start = options.start,\n            setter = options.setter,\n            build = options.build,\n            weekNumberBuild = options.weekNumberBuild,\n            length = options.cells || 12,\n            isWeekColumnVisible = options.isWeekColumnVisible,\n            cellsPerRow = options.perRow || 4,\n            otherMonth = options.otherMonth,\n            lastDayOfMonth = options.lastDayOfMonth,\n            weekNumber = options.weekNumber || weekNumberTemplate,\n            content = options.content || cellTemplate,\n            empty = options.empty || emptyCellTemplate,\n            otherMonthTemplate = options.otherMonthCellTemplate || otherMonthCellTemplate,\n            html = options.html || '<table tabindex=\"0\" role=\"grid\" class=\"k-calendar-table k-content k-meta-view\" cellspacing=\"0\"><tbody class=\"k-calendar-tbody\"><tr role=\"row\" class=\"k-calendar-tr\">';\n\n        if (isWeekColumnVisible) {\n            html += weekNumber(weekNumberBuild(start));\n        }\n\n\n        for (; idx < length; idx++) {\n            if (idx > 0 && idx % cellsPerRow === 0) {\n                html += '</tr><tr role=\"row\" class=\"k-calendar-tr\">';\n                if (isWeekColumnVisible) {\n                    html += otherMonth || (+start <= +lastDayOfMonth) ? weekNumber(weekNumberBuild(start)) : weekNumber({ weekNumber: \"&nbsp;\" });\n                }\n            }\n\n            start = createDate(start.getFullYear(), start.getMonth(), start.getDate());\n            adjustDST(start, 0);\n\n            data = build(start, idx, options.disableDates);\n\n            html += (data.cssClass.indexOf(OTHERMONTH) !== -1 && !otherMonth) ? otherMonthTemplate(data) : isInRange(start, min, max) ? content(data) : empty(data);\n\n            setter(start, 1);\n        }\n\n        return html + \"</tr></tbody></table>\";\n    }\n\n    function compare(date1, date2, modifier) {\n        var year1 = date1.getFullYear(),\n            start = date2.getFullYear(),\n            end = start,\n            result = 0;\n\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n\n        if (year1 > end) {\n            result = 1;\n        } else if (year1 < start) {\n            result = -1;\n        }\n\n        return result;\n    }\n\n    function getToday() {\n        var today = new DATE();\n        return new DATE(today.getFullYear(), today.getMonth(), today.getDate());\n    }\n\n    function restrictValue(value, min, max) {\n        var today = getToday();\n\n        if (value) {\n            today = new DATE(+value);\n        }\n\n        if (min > today) {\n            today = new DATE(+min);\n        } else if (max < today) {\n            today = new DATE(+max);\n        }\n        return today;\n    }\n\n    function isInRange(date, min, max) {\n        return +date >= +min && +date <= +max;\n    }\n\n    function shiftArray(array, idx) {\n        return array.slice(idx).concat(array.slice(0, idx));\n    }\n\n    function setDate(date, value, multiplier) {\n        value = value instanceof DATE ? value.getFullYear() : date.getFullYear() + multiplier * value;\n        date.setFullYear(value);\n    }\n\n    function daysBetweenTwoDates(startDate, endDate) {\n        if (+endDate < +startDate) {\n            var temp = +startDate;\n            calendar.views[0].setDate(startDate, endDate);\n            calendar.views[0].setDate(endDate, new Date(temp));\n        }\n        var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n        return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n    }\n\n    function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n        for (var i = 0; i <= numberOfDays; i++) {\n            var nextDay = new Date(fromDate.getTime());\n            nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n            if (!disableDates(nextDay)) {\n                array.push(nextDay);\n            }\n        }\n    }\n\n    function mousetoggle(e) {\n        var disabled = $(this).hasClass(\"k-disabled\");\n\n        if (!disabled) {\n            $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n        }\n    }\n\n    function prevent(e) {\n        e.preventDefault();\n    }\n\n    // creates date with full year\n    function createDate(year, month, date) {\n        var dateObject = new DATE(year, month, date);\n        dateObject.setFullYear(year, month, date);\n        return dateObject;\n    }\n\n    function getCalendarInfo(culture) {\n        return getCulture(culture).calendars.standard;\n    }\n\n    function normalize(options) {\n        var start = views[options.start],\n            depth = views[options.depth],\n            culture = getCulture(options.culture);\n\n        options.format = extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n        if (isNaN(start)) {\n            start = 0;\n            options.start = MONTH;\n        }\n\n        if (depth === undefined$1 || depth > start) {\n            options.depth = MONTH;\n        }\n\n        if (options.dates === null) {\n            options.dates = [];\n        }\n    }\n\n    function addClassToViewContainer(element, currentView) {\n        element.addClass(\"k-\" + currentView);\n    }\n\n    function inArray(date, dates) {\n        for (var i = 0, length = dates.length; i < length; i++) {\n            if (date === +dates[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function isEqualDatePart(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth() &&\n                value1.getDate() === value2.getDate();\n        }\n\n        return false;\n    }\n\n    function isEqualMonth(value1, value2) {\n        if (value1) {\n            return value1.getFullYear() === value2.getFullYear() &&\n                value1.getMonth() === value2.getMonth();\n        }\n\n        return false;\n    }\n\n\n    function getDisabledExpr(option) {\n        if (kendo.isFunction(option)) {\n            return option;\n        }\n\n        if (Array.isArray(option)) {\n            return createDisabledExpr(option);\n        }\n        return $.noop;\n    }\n\n    function convertDatesArray(dates) {\n        var result = [];\n        for (var i = 0; i < dates.length; i++) {\n            result.push(dates[i].setHours(0, 0, 0, 0));\n        }\n        return result;\n    }\n\n    function createDisabledExpr(dates) {\n        var body, callback,\n            disabledDates = [],\n            days = [\"su\", \"mo\", \"tu\", \"we\", \"th\", \"fr\", \"sa\"],\n            searchExpression = \"if (found) {\" +\n                    \" return true \" +\n                \"} else {\" +\n                    \"return false\" +\n                \"}\";\n\n        if (dates[0] instanceof DATE) {\n            disabledDates = convertDatesArray(dates);\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.setHours(0, 0, 0, 0),[\" + disabledDates + \"]) > -1;\" + searchExpression;\n        } else {\n            for (var i = 0; i < dates.length; i++) {\n                var day = dates[i].slice(0,2).toLowerCase();\n                var index = $.inArray(day, days);\n                if (index > -1) {\n                    disabledDates.push(index);\n                }\n            }\n            body = \"var clonedDate = new Date(date); var found = date && window.kendo.jQuery.inArray(clonedDate.getDay(),[\" + disabledDates + \"]) > -1;\" + searchExpression;\n        }\n\n        callback = new Function(\"date\", body);\n\n        return callback;\n    }\n\n    function isEqualDate(oldValue, newValue) {\n       if (oldValue instanceof Date && newValue instanceof Date) {\n           oldValue = oldValue.getTime();\n           newValue = newValue.getTime();\n       }\n\n       return oldValue === newValue;\n    }\n\n    function toDateObject(link) {\n        var value = $(link).attr(kendo.attr(VALUE)).split(\"/\");\n        //Safari cannot create correctly date from \"1/1/2090\"\n        value = createDate(value[0], value[1], value[2]);\n\n        return value;\n    }\n\n    calendar.isEqualDatePart = isEqualDatePart;\n    calendar.isEqualDate = isEqualDate;\n    calendar.restrictValue = restrictValue;\n    calendar.isInRange = isInRange;\n    calendar.addClassToViewContainer = addClassToViewContainer;\n    calendar.normalize = normalize;\n    calendar.viewsEnum = views;\n    calendar.disabled = getDisabledExpr;\n    calendar.toDateObject = toDateObject;\n    calendar.getToday = getToday;\n    calendar.createDate = createDate;\n\n    kendo.calendar = calendar;\n})(window.kendo.jQuery);\n"]}