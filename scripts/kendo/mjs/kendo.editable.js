/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import"./kendo.checkbox.js";import"./kendo.dropdownlist.js";import"./kendo.datepicker.js";import"./kendo.numerictextbox.js";import"./kendo.validator.js";import"./kendo.binder.js";var __meta__={id:"editable",name:"Editable",category:"framework",depends:["checkbox","dropdownlist","datepicker","numerictextbox","validator","binder"],hidden:!0};!function(e,t){var a=window.kendo,i=a.ui,n=i.Widget,o=e.extend,r=a.isFunction,l=e.isPlainObject,d=e.inArray,u=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,s="change",p="equalSet",c=["url","email","number","date","boolean"];function v(e){return(e=null!=e?e:"").type||a.type(e)||"string"}function f(e){var t,i,n=(e.model.fields||e.model)[e.field],o=v(n),u=n?n.validation:{},s=n?n.attributes:{},p=a.attr("type"),f=a.attr("bind"),m={id:e.id||e.field,name:e.field,title:e.title?e.title:e.field};for(t in u){if(i=u[t],d(t,c)>=0)m[p]=t;else if(!r(i)){var k=a.getCulture();if("number"==typeof i&&k.name.length){var b=k.numberFormat,x=i.toString().replace(".",b["."]);m[t]=x}else m[t]=l(i)?i.value||t:i}m[a.attr(t+"-msg")]=i.message,m.autocomplete="off"}for(var g in s)m[g]=s[g];return d(o,c)>=0&&(m[p]=o),m[f]=("boolean"===o?"checked:":"value:")+e.field,m}function m(e,t){var a=e.attr("id");return a&&(t.id=a,e.removeAttr("id")),t}var k=["AutoComplete","CheckBox","CheckBoxGroup","ColorGradient","ColorPicker","ColorPalette","ComboBox","DateInput","DatePicker","DateTimePicker","DropDownTree","Editor","FlatColorPicker","MaskedTextBox","MultiColumnComboBox","MultiSelect","NumericTextBox","RadioGroup","Rating","Slider","Switch","TimePicker","DropDownList","TextBox","TextArea","Captcha","Signature"],b={hidden:function(t,a){var i=f(a);e('<input type="hidden"/>').attr(i).appendTo(t)},number:function(t,i){var n=f(i);e('<input type="text"/>').attr(n).appendTo(t).kendoNumericTextBox({format:i.format}),e("<span "+a.attr("for")+'="'+i.field+'" class="k-invalid-msg k-hidden"/>').appendTo(t)},date:function(t,i){var n=f(i),o=i.format;o&&(o=a._extractFormat(o)),n[a.attr("format")]=o,e('<input type="text"/>').attr(n).appendTo(t).kendoDatePicker({format:i.format}),e("<span "+a.attr("for")+'="'+i.field+'" class="k-invalid-msg k-hidden"/>').appendTo(t)},string:function(t,a){var i=f(a);e('<input type="text"/>').attr(i).appendTo(t).kendoTextBox()},boolean:function(t,a){var i=f(a);h(e('<input type="checkbox" />').attr(i).kendoCheckBox().appendTo(t),t,a)},values:function(t,i){var n=f(i),o=a.stringify(function(e){var t,a,i,n,o,r;if(e&&e.length)for(r=[],t=0,a=e.length;t<a;t++)o=(i=e[t]).text||i.value||i,n=null==i.value?i.text||i:i.value,r[t]={text:o,value:n};return r}(i.values));e("<select "+a.attr("text-field")+'="text"'+a.attr("value-field")+'="value"'+a.attr("source")+"='"+(o?o.replace(/\'/g,"&apos;"):o)+"'"+a.attr("role")+'="dropdownlist"/>').attr(n).appendTo(t),e("<span "+a.attr("for")+'="'+i.field+'" class="k-invalid-msg  k-hidden"/>').appendTo(t)},kendoEditor:function(t,a){var i=f(a),n=a.editor,o="kendo"+n,r=a.editorOptions,l=function(e,t){if(e.length)return"DropDownTree"===e&&t&&t.checkboxes||"MultiSelect"===e?"<select />":"RadioGroup"===e||"CheckBoxGroup"===e?"<ul />":"Signature"===e?"<div></div>":"Editor"===e||"TextArea"===e?"<textarea />":"<input />"}(n,r);h(e(l).attr(i).appendTo(t)[o](r),t,a)}},x={number:function(t,a){var i=f(a);i=m(t,i),e('<input type="number"/>').attr(i).appendTo(t)},date:function(t,a){var i=f(a);i=m(t,i),e('<input type="date"/>').attr(i).appendTo(t)},string:function(t,a){var i=f(a);i=m(t,i),e('<input type="text" />').attr(i).appendTo(t)},boolean:function(t,a){var i=f(a);i=m(t,i),e('<input type="checkbox" />').attr(i).appendTo(t)},values:function(t,a){var i=f(a),n=a.values,o=e("<select />");for(var r in i=m(t,i),n)e('<option value="'+n[r].value+'">'+n[r].text+"</option>").appendTo(o);o.attr(i).appendTo(t)}};function g(e,t){var a,i,n=e&&e.validation||{};for(a in n)i=n[a],l(i)&&i.value&&(i=i.value),r(i)&&(t[a]=i)}function h(t,a,i){(i&&i.shouldRenderHidden||!1)&&(t.val(!0),a.append(e("<input type='hidden' name='"+i.field+"' value='false' data-skip='true' data-validate='false'/>")))}var y=n.extend({init:function(e,t){var a=this;t.target&&(t.$angular=t.target.options.$angular,t.target.pane&&(a._isMobile=!0)),n.fn.init.call(a,e,t),a._validateProxy=a._validate.bind(a),a.refresh()},events:[s],options:{name:"Editable",editors:b,mobileEditors:x,clearContainer:!0,validateOnBlur:!0,validationSummary:!1,errorTemplate:'<div class="k-tooltip k-tooltip-error k-validator-tooltip"><span class="k-tooltip-icon k-icon k-i-warning"></span><span class="k-tooltip-content">#= message #</span><span class="k-callout k-callout-n"></span></div>',skipFocus:!1},editor:function(t,i){var n=this,r=n._isMobile?x:n.options.editors,d=l(t),s=d?t.field:t,p=n.options.model||{},c=d&&t.values?"values":v(i),f=d&&"string"==typeof t.editor&&"hidden"===t.editor,m=d&&!f&&t.editor,b=d&&-1!==e.inArray(t.editor,k),g=m?t.editor:r[f?"hidden":c],h=n.element.find("["+a.attr("container-for")+"="+s.replace(u,"\\$1")+"]");g=g||r.string,b?g=r.kendoEditor:m&&"string"==typeof t.editor&&(g=function(e){e.append(t.editor)}),g(h=h.length?h:n.element,o(!0,{},d?t:{field:s},{model:p}))},_validate:function(t){var i,n=this,o=t.value,r=n._validationEventInProgress,l={},d=a.attr("bind"),p=t.field.replace(u,"\\$1"),c=new RegExp("(value|checked)\\s*:\\s*"+p+"\\s*(,|$)");l[t.field]=t.value,(i=e(":input["+d+'*="'+p+'"]',n.element).filter("["+a.attr("validate")+"!='false']").filter((function(){return c.test(e(this).attr(d))}))).length>1&&(i=i.filter((function(){var t=e(this);return!t.is(":radio")||t.val()==o})));try{n._validationEventInProgress=!0,(!n.validatable.validateInput(i)||!r&&n.trigger(s,{values:l}))&&t.preventDefault()}finally{n._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;e.angular("cleanup",(function(){return{elements:e.element}})),n.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),e.options.model.unbind(p,e._validateProxy),a.unbind(e.element),e.validatable&&e.validatable.destroy(),a.destroy(e.element),e.element.removeData("kendoValidator"),e.element.is("["+a.attr("role")+"=editable]")&&e.element.removeAttr(a.attr("role"))},refresh:function(){var t,i,n,o,r,d,u=this,s=u.options.fields||[],c=u.options.clearContainer?u.element.empty():u.element,v=u.options.model||{},f={};for(Array.isArray(s)||(s=[s]),t=0,i=s.length;t<i;t++)n=s[t],o=l(n)?n.field:n,g(r=(v.fields||v)[o],f),u.editor(n,r);if(u.options.target&&u.angular("compile",(function(){return{elements:c,data:c.map((function(){return{dataItem:v}}))}})),!i)for(o in d=v.fields||v)g(d[o],f);!function(t){t.find(":input:not(:button, .k-combobox .k-input, .k-checkbox-list .k-checkbox, .k-radio-list .k-radio, ["+a.attr("role")+"=listbox], ["+a.attr("role")+"=upload], ["+a.attr("skip")+"], [type=file])").each((function(){var t=a.attr("bind"),i=this.getAttribute(t)||"",n="checkbox"===this.type||"radio"===this.type?"checked:":"value:",o=this.getAttribute("name")===y.antiForgeryTokenName,r=this.name;-1===i.indexOf(n)&&r&&!o&&(i+=(i.length?",":"")+n+r,e(this).attr(t,i))}))}(c),u.validatable&&u.validatable.destroy(),a.bind(c,u.options.model),u.options.validateOnBlur&&(u.options.model.unbind("set",u._validateProxy).bind("set",u._validateProxy),u.options.model.unbind(p,u._validateProxy).bind(p,u._validateProxy)),u.validatable=new a.ui.Validator(c,{validateOnBlur:u.options.validateOnBlur,validationSummary:u.options.validationSummary,errorTemplate:u.options.errorTemplate||undefined,rules:f}),u.options.skipFocus||c.find(":kendoFocusable").eq(0).trigger("focus")}});y.antiForgeryTokenName="__RequestVerificationToken",i.plugin(y)}(window.kendo.jQuery);
//# sourceMappingURL=kendo.editable.js.map
