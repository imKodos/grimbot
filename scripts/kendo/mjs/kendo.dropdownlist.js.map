{"version":3,"file":"kendo.dropdownlist.js","names":["__meta__","id","name","category","description","depends","features","$","undefined$1","kendo","window","ui","html","List","Select","support","activeElement","_activeElement","ObservableObject","data","keys","ns","nsFocusEvent","DISABLED","READONLY","CHANGE","FOCUSED","STATEDISABLED","ARIA_DISABLED","ARIA_READONLY","HOVEREVENTS","TABINDEX","STATE_FILTER","STATE_ACCEPT","DropDownList","extend","init","element","options","optionLabel","text","that","this","index","Array","isArray","dataSource","fn","call","on","_focusHandler","bind","_focusInputHandler","_focusInput","_optionLabel","_inputTemplate","_reset","_prev","_word","_wrapper","_tabindex","wrapper","attr","_span","_popup","_mobile","_dataSource","_ignoreCase","_filterHeader","label","_label","_aria","_enable","_attachFocusHandlers","_oldIndex","selectedIndex","_initialIndex","requireValueMapper","_initList","listView","one","_attachAriaActiveDescendant","_cascade","e","sender","bound","hasOptionLabel","_textAccessor","_optionLabelText","autoBind","fetch","_isSelect","children","parents","is","enable","preventDefault","notify","_applyCssClasses","enabled","value","delay","height","dataTextField","dataValueField","cascadeFrom","cascadeFromField","cascadeFromParentField","ignoreCase","animation","filter","minLength","enforceMinLength","virtual","template","valueTemplate","optionLabelTemplate","groupTemplate","fixedGroupTemplate","autoWidth","popup","filterTitle","size","fillMode","rounded","events","setOptions","_listOptions","_accessors","select","destroy","off","_arrow","_arrowIcon","filterInput","open","isFiltered","filters","length","visible","_state","_allowOpening","_focusFilter","_hovered","_optionID","_resizeFilterInput","_focusItem","_open","val","refresh","_filterSource","close","inputId","find","_focusElement","originalPrevent","_prevent","isInputActive","caret","addClass","closest","css","removeClass","trigger","toggle","_toggle","current","candidate","focus","_focus","dataItem","selectedDataItems","getByUid","hasClass","items","flatView","_optionLabelDataItem","loweredText","toLowerCase","_select","_text","done","_refreshFloatingLabel","_clearFilter","_accessor","_request","_valueSetter","unbind","_isFilterEnabled","_fetchData","_old","_valueBeforeCascade","remove","expr","prependTo","list","_click","_toggleHover","angular","elements","isPlainObject","_assignInstance","_buildOptions","optionLabelValue","_value","_options","unifyType","_customOption","_custom","_listBound","initialIndex","filtered","_presetValue","_renderFooter","_renderNoData","_toggleNoData","_resizePopup","position","_fetch","_selectValue","_hideBusy","_listChange","_filterPaste","_search","_focusinHandler","_focusoutHandler","isIFrame","self","top","clearTimeout","_typingTimeout","mobileOS","ios","_change","_blur","_wrapperMousedown","_wrapperClick","_focused","_editable","disable","readonly","add","dropDownWrapper","removeAttr","prop","_keydown","mousedown","_keypress","handled","key","keyCode","altKey","isPopupVisible","LEFT","UP","RIGHT","DOWN","ESC","ENTER","SPACEBAR","_move","HOME","_firstItem","END","_lastItem","_getElementDataItem","item","_matchText","word","indexOf","_shuffleData","splitIndex","optionDataItem","concat","slice","_selectNext","oldFocusedItem","dataLength","isInLoop","character","idx","charAt","sameCharsOnly","_last","startIndex","normalizeIndex","toJSON","which","String","fromCharCode","charCode","_popupOpen","wrap","dataItemByIndex","getElementIndex","currentTarget","_userTriggered","active","compareElement","touchEnabled","touch","MSPointers","pointers","_searchByWord","_inputValue","setTimeout","search","_get","found","isFunction","jQueryCandidate","focusFirst","_resetOptionLabel","focusLast","_nextItem","focusIndex","focusNext","_prevItem","focusPrev","focusedItem","highlightFirst","mapValueTo","scrollToIndex","content","scrollTop","additionalClass","keepState","_dataValue","_triggerCascade","eq","effects","android","meego","wp","placeholder","title","role","parent","prepend","append","span","arrowBtn","SELECTOR","guid","renderButton","icon","shape","DOMelement","style","cssText","className","accesskey","unselectable","hide","_clearSelection","_openHandler","_adjustListWidth","ul","_closeHandler","useWithBlock","Error","optionLabelText","getElements","get","_preselect","setValue","assign","split","instance","fields","field","lastIndex","plugin","cssProperties","registerPrefix","registerValues","values","roundedValues","jQuery"],"sources":["kendo.dropdownlist.js"],"mappings":"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","sourcesContent":["import './kendo.list.js';\nimport './kendo.mobile.scroller.js';\nimport './kendo.virtuallist.js';\nimport './kendo.html.button.js';\n\nvar __meta__ = {\n    id: \"dropdownlist\",\n    name: \"DropDownList\",\n    category: \"web\",\n    description: \"The DropDownList widget displays a list of values and allows the selection of a single value from the list.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        support = kendo.support,\n        activeElement = kendo._activeElement,\n        ObservableObject = kendo.data.ObservableObject,\n        keys = kendo.keys,\n        ns = \".kendoDropDownList\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        CLICKEVENTS = \"click\" + ns + \" touchend\" + ns,\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        TABINDEX = \"tabindex\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        MSG_INVALID_OPTION_LABEL = \"The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel\",\n        OPEN = \"open\",\n        CLOSE = \"close\";\n\n    var DropDownList = Select.extend( {\n        init: function(element, options) {\n            var that = this;\n            var index = options && options.index;\n            var optionLabel, text, disabled;\n\n            that.ns = ns;\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n            that._focusInputHandler = that._focusInput.bind(that);\n\n            that.optionLabel = $();\n            that._optionLabel();\n\n            that._inputTemplate();\n\n            that._reset();\n\n            that._prev = \"\";\n            that._word = \"\";\n\n            that._wrapper();\n\n            that._tabindex();\n            that.wrapper.data(TABINDEX, that.wrapper.attr(TABINDEX));\n\n            that._span();\n\n            that._popup();\n\n            that._mobile();\n\n            that._dataSource();\n\n            that._ignoreCase();\n\n            that._filterHeader();\n\n            if (options.label) {\n                this._label();\n            }\n\n            that._aria();\n\n            that._enable();\n\n            that._attachFocusHandlers();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            if (index !== undefined$1) {\n                options.index = index;\n            }\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n            that.listView.one(\"dataBound\", that._attachAriaActiveDescendant.bind(that));\n\n            that._cascade();\n\n            that.one(\"set\", function(e) {\n                if (!e.sender.listView.bound() && that.hasOptionLabel()) {\n                    that._textAccessor(that._optionLabelText());\n                }\n            });\n\n            if (options.autoBind) {\n                that.dataSource.fetch();\n            } else if (that.selectedIndex === -1) { //selectedIndex !== -1 when cascade functionality happens instantly\n                text = options.text || \"\";\n                if (!text) {\n                    optionLabel = options.optionLabel;\n\n                    if (optionLabel && options.index === 0) {\n                        text = optionLabel;\n                    } else if (that._isSelect) {\n                        text = element.children(\":selected\").text();\n                    }\n                }\n\n                that._textAccessor(text);\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n            kendo.notify(that);\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownList\",\n            enabled: true,\n            autoBind: true,\n            index: 0,\n            text: null,\n            value: null,\n            delay: 500,\n            height: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            optionLabel: \"\",\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            ignoreCase: true,\n            animation: {},\n            filter: \"none\",\n            minLength: 1,\n            enforceMinLength: false,\n            virtual: false,\n            template: null,\n            valueTemplate: null,\n            optionLabelTemplate: null,\n            groupTemplate: \"#:data#\",\n            fixedGroupTemplate: \"#:data#\",\n            autoWidth: false,\n            popup: null,\n            filterTitle: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\",\n            label: null\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\",\n            \"kendoKeydown\"\n        ],\n\n        setOptions: function(options) {\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(this._listOptions(options));\n\n            this._optionLabel();\n            this._inputTemplate();\n            this._accessors();\n            this._filterHeader();\n            this._enable();\n            this._aria();\n\n            if (!this.value() && this.hasOptionLabel()) {\n                this.select(0);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            Select.fn.destroy.call(that);\n\n            that.wrapper.off(ns);\n            that.wrapper.off(nsFocusEvent);\n            that.element.off(ns);\n\n            that._arrow.off();\n            that._arrow = null;\n            that._arrowIcon = null;\n\n            that.optionLabel.off();\n\n            if (that.filterInput) {\n                that.filterInput.off(nsFocusEvent);\n            }\n        },\n\n        open: function() {\n            var that = this;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var listView = this.listView;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if (!that.listView.bound() || that._state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = \"rebind\";\n\n                if (that.filterInput) {\n                    that.filterInput.val(\"\");\n                    that._prev = \"\";\n                }\n\n                if (that.filterInput && that.options.minLength !== 1 && !isFiltered) {\n                    that.refresh();\n                    that.popup.one(\"activate\", that._focusInputHandler);\n                    that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                    that.popup.open();\n                    that._resizeFilterInput();\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                that._focusFilter = true;\n                that.popup.one(\"activate\", that._focusInputHandler);\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                that.popup.open();\n                that._resizeFilterInput();\n                that._focusItem();\n            }\n        },\n\n        close: function() {\n            this._attachAriaActiveDescendant();\n            this.popup.close();\n        },\n\n        _attachAriaActiveDescendant: function() {\n            var wrapper = this.wrapper,\n                inputId = wrapper.find(\".k-input-inner\").attr('id');\n\n            wrapper.attr(\"aria-describedby\", inputId);\n        },\n\n        _focusInput: function() {\n            this._focusElement(this.filterInput);\n        },\n\n        _resizeFilterInput: function() {\n            var filterInput = this.filterInput;\n            var originalPrevent = this._prevent;\n\n            if (!filterInput) {\n                return;\n            }\n\n            var isInputActive = this.filterInput[0] === activeElement();\n            var caret = kendo.caret(this.filterInput[0])[0];\n\n            this._prevent = true;\n\n            filterInput.addClass(\"k-hidden\");\n            filterInput.closest(\".k-list-filter\").css(\"width\", this.popup.element.css(\"width\"));\n            filterInput.removeClass(\"k-hidden\");\n\n            if (isInputActive) {\n                filterInput.trigger(\"focus\");\n                kendo.caret(filterInput[0], caret);\n            }\n\n            this._prevent = originalPrevent;\n        },\n\n        _allowOpening: function() {\n            return this.hasOptionLabel() || this.filterInput || Select.fn._allowOpening.call(this);\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        current: function(candidate) {\n            var current;\n\n            if (candidate === undefined$1) {\n                current = this.listView.focus();\n\n                if (!current && this.selectedIndex === 0 && this.hasOptionLabel()) {\n                    return this.optionLabel;\n                }\n\n                return current;\n            }\n\n            this._focus(candidate);\n        },\n\n        dataItem: function(index) {\n            var that = this;\n            var dataItem = null;\n\n            if (index === null) { return index; }\n\n            if (index === undefined$1) {\n                dataItem = that.listView.selectedDataItems()[0];\n            } else {\n                if (typeof index !== \"number\") {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data(\"uid\"));\n                    }\n                    if (index.hasClass(\"k-list-optionlabel\")) {\n                        index = -1;\n                    } else {\n                        index = $(that.items()).index(index);\n                    }\n                } else if (that.hasOptionLabel()) {\n                    index -= 1;\n                }\n\n                dataItem = that.dataSource.flatView()[index];\n            }\n\n            if (!dataItem) {\n                dataItem = that._optionLabelDataItem();\n            }\n\n            return dataItem;\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        text: function(text) {\n            var that = this;\n            var loweredText;\n            var ignoreCase = that.options.ignoreCase;\n\n            text = text === null ? \"\" : text;\n\n            if (text !== undefined$1) {\n                if (typeof text !== \"string\") {\n                    that._textAccessor(text);\n                    return;\n                }\n\n                loweredText = ignoreCase ? text.toLowerCase() : text;\n\n                that._select(function(data) {\n                    data = that._text(data);\n\n                    if (ignoreCase) {\n                        data = (data + \"\").toLowerCase();\n                    }\n\n                    return data === loweredText;\n                }).done(function() {\n                    that._textAccessor(that.dataItem() || text);\n                    that._refreshFloatingLabel();\n                });\n\n            } else {\n                return that._textAccessor();\n            }\n        },\n\n        _clearFilter: function() {\n            $(this.filterInput).val(\"\");\n            Select.fn._clearFilter.call(this);\n        },\n\n        value: function(value) {\n            var that = this;\n            var listView = that.listView;\n            var dataSource = that.dataSource;\n            var valueFn = function() { that.value(value); };\n\n            if (value === undefined$1) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined$1 || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            if (value || !that.hasOptionLabel()) {\n                that._initialIndex = null;\n            }\n\n            this.trigger(\"set\", { value: value });\n\n            if (that._request && that.options.cascadeFrom && that.listView.bound()) {\n                if (that._valueSetter) {\n                    dataSource.unbind(CHANGE, that._valueSetter);\n                }\n\n                that._valueSetter = valueFn.bind(that);\n\n                dataSource.one(CHANGE, that._valueSetter);\n                return;\n            }\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView.value(value).done(function() {\n                that._old = that._valueBeforeCascade = that._accessor();\n                that._oldIndex = that.selectedIndex;\n                that._refreshFloatingLabel();\n            });\n        },\n\n        hasOptionLabel: function() {\n            return this.optionLabel && !!this.optionLabel[0];\n        },\n\n        _optionLabel: function() {\n            var that = this;\n            var options = that.options;\n            var optionLabel = options.optionLabel;\n            var template = options.optionLabelTemplate;\n\n            if (!optionLabel) {\n                that.optionLabel.off().remove();\n                that.optionLabel = $();\n                return;\n            }\n\n            if (!template) {\n                template = \"#:\";\n\n                if (typeof optionLabel === \"string\") {\n                    template += \"data\";\n                } else {\n                    template += kendo.expr(options.dataTextField, \"data\");\n                }\n\n                template += \"#\";\n            }\n\n            if (typeof template !== \"function\") {\n                template = kendo.template(template);\n            }\n\n            that.optionLabelTemplate = template;\n\n            if (!that.hasOptionLabel()) {\n                that.optionLabel = $('<div role=\"option\" class=\"k-list-optionlabel\"></div>').prependTo(that.list);\n            }\n\n            that.optionLabel.html(template(optionLabel))\n                            .off()\n                            .on(CLICKEVENTS, that._click.bind(that))\n                            .on(HOVEREVENTS, that._toggleHover);\n\n            that.angular(\"compile\", function() {\n                return { elements: that.optionLabel, data: [{ dataItem: that._optionLabelDataItem() }] };\n            });\n        },\n\n        _optionLabelText: function() {\n            var optionLabel = this.options.optionLabel;\n            return (typeof optionLabel === \"string\") ? optionLabel : this._text(optionLabel);\n        },\n\n        _optionLabelDataItem: function() {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n\n            if (that.hasOptionLabel()) {\n                return $.isPlainObject(optionLabel) ? new ObservableObject(optionLabel) : that._assignInstance(that._optionLabelText(), \"\");\n            }\n\n            return undefined$1;\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var value = that.listView.value()[0];\n            var optionLabel = that._optionLabelDataItem();\n            var optionLabelValue = optionLabel && that._value(optionLabel);\n\n            if (value === undefined$1 || value === null) {\n                value = \"\";\n            }\n\n            if (optionLabel) {\n                if (optionLabelValue === undefined$1 || optionLabelValue === null) {\n                    optionLabelValue = \"\";\n                }\n\n                optionLabel = '<option value=\"' + optionLabelValue + '\">' + that._text(optionLabel) + \"</option>\";\n            }\n\n            that._options(data, optionLabel, value);\n\n            if (value !== List.unifyType(that._accessor(), typeof value)) {\n                that._customOption = null;\n                that._custom(value);\n            }\n        },\n\n        _listBound: function() {\n\n            var that = this;\n            var initialIndex = that._initialIndex;\n            var filtered = that._state === STATE_FILTER;\n\n            var data = that.dataSource.flatView();\n            var dataItem;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!data.length);\n\n            that._resizePopup(true);\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            if (!filtered) {\n                if (that._open) {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._open = false;\n\n                if (!that._fetch) {\n                    if (data.length) {\n                        if (!that.listView.value().length && initialIndex > -1 && initialIndex !== null) {\n                            that.select(initialIndex);\n                        }\n\n                        that._initialIndex = null;\n                        dataItem = that.listView.selectedDataItems()[0];\n                        if (dataItem && that.text() !== that._text(dataItem)) {\n                            that._selectValue(dataItem);\n                        }\n                    } else if (that._textAccessor() !== that._optionLabelText()) {\n                        that.listView.value(\"\");\n                        that._selectValue(null);\n                        that._oldIndex = that.selectedIndex;\n                    }\n                }\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue || (this._old && this._oldIndex === -1)) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _filterPaste: function() {\n            this._search();\n        },\n\n        _attachFocusHandlers: function() {\n            var that = this;\n            var wrapper = that.wrapper;\n\n            wrapper.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                   .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n            if (that.filterInput) {\n                that.filterInput.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                   .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n            }\n        },\n\n        _focusHandler: function() {\n            this.wrapper.trigger(\"focus\");\n        },\n\n        _focusinHandler: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._prevent = false;\n        },\n\n        _focusoutHandler: function() {\n            var that = this;\n            var isIFrame = window.self !== window.top;\n\n            if (!that._prevent) {\n                clearTimeout(that._typingTimeout);\n\n                if (support.mobileOS.ios && isIFrame) {\n                    that._change();\n                } else {\n                    that._blur();\n                }\n\n                that.wrapper.removeClass(FOCUSED);\n                that._prevent = true;\n                that._open = false;\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _wrapperMousedown: function() {\n            this._prevent = !!this.filterInput;\n        },\n\n        _wrapperClick: function(e) {\n            e.preventDefault();\n            this.popup.unbind(\"activate\", this._focusInputHandler);\n            this._focused = this.wrapper;\n            this._prevent = false;\n            this._toggle();\n        },\n\n        _editable: function(options) {\n            var that = this;\n            var element = that.element;\n            var disable = options.disable;\n            var readonly = options.readonly;\n            var wrapper = that.wrapper.add(that.filterInput).off(ns);\n            var dropDownWrapper = that.wrapper.off(HOVEREVENTS);\n\n            if (!readonly && !disable) {\n                element.prop(DISABLED, false).prop(READONLY, false);\n\n                dropDownWrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                wrapper\n                    .attr(TABINDEX, wrapper.data(TABINDEX))\n                    .attr(ARIA_DISABLED, false)\n                    .attr(ARIA_READONLY, false)\n                    .on(\"keydown\" + ns, that, that._keydown.bind(that))\n                    .on(kendo.support.mousedown + ns, that._wrapperMousedown.bind(that))\n                    .on(\"paste\" + ns, that._filterPaste.bind(that));\n\n                that.wrapper.on(\"click\" + ns, that._wrapperClick.bind(that));\n\n                if (!that.filterInput) {\n                    wrapper.on(\"keypress\" + ns, that._keypress.bind(that));\n                } else {\n                    wrapper.on(\"input\" + ns, that._search.bind(that));\n                }\n\n            } else if (disable) {\n                wrapper.removeAttr(TABINDEX);\n                dropDownWrapper.addClass(STATEDISABLED);\n            } else {\n                dropDownWrapper.removeClass(STATEDISABLED);\n            }\n\n            element.attr(DISABLED, disable)\n                   .attr(READONLY, readonly);\n\n            wrapper.attr(ARIA_DISABLED, disable)\n                    .attr(ARIA_READONLY, readonly);\n        },\n\n        _keydown: function(e) {\n            var that = this;\n            var key = e.keyCode;\n            var altKey = e.altKey;\n            var isInputActive;\n            var handled;\n\n            var isPopupVisible = that.popup.visible();\n\n            if (that.filterInput) {\n                isInputActive = that.filterInput[0] === activeElement();\n            }\n\n            if (key === keys.LEFT) {\n                key = keys.UP;\n                handled = true;\n            } else if (key === keys.RIGHT) {\n                key = keys.DOWN;\n                handled = true;\n            }\n\n            if (handled && isInputActive) {\n                return;\n            }\n\n            e.keyCode = key;\n\n            if ((altKey && key === keys.UP) || key === keys.ESC) {\n                that._focusElement(that.wrapper);\n            }\n\n            if (that._state === STATE_FILTER && key === keys.ESC) {\n                that._clearFilter();\n                that._open = false;\n                that._state = STATE_ACCEPT;\n            }\n\n            if (key === keys.ENTER && that._typingTimeout && that.filterInput && isPopupVisible) {\n                e.preventDefault();\n                return;\n            }\n\n            if (key === keys.SPACEBAR && !isInputActive) {\n                that.toggle(!isPopupVisible);\n                e.preventDefault();\n            }\n\n            handled = that._move(e);\n\n            if (handled) {\n                return;\n            }\n\n            if (!isPopupVisible || !that.filterInput) {\n                var current = that._focus();\n\n                if (key === keys.HOME) {\n                    handled = true;\n                    that._firstItem();\n                } else if (key === keys.END) {\n                    handled = true;\n                    that._lastItem();\n                }\n\n                if (handled) {\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._focus(current);\n                        return;\n                    }\n\n                    that._select(that._focus(), true).done(function() {\n                        if (!isPopupVisible) {\n                            that._blur();\n                        }\n                    });\n                    e.preventDefault();\n                }\n            }\n\n            if (!altKey && !handled && that.filterInput) {\n                that._search();\n            }\n        },\n\n        _matchText: function(text, word) {\n            var ignoreCase = this.options.ignoreCase;\n\n            if (text === undefined$1 || text === null) {\n                return false;\n            }\n\n            text = text + \"\";\n\n            if (ignoreCase) {\n                text = text.toLowerCase();\n            }\n\n            return text.indexOf(word) === 0;\n        },\n\n        _shuffleData: function(data, splitIndex) {\n            var optionDataItem = this._optionLabelDataItem();\n\n            if (optionDataItem) {\n                data = [optionDataItem].concat(data);\n            }\n\n            return data.slice(splitIndex).concat(data.slice(0, splitIndex));\n        },\n\n        _selectNext: function() {\n            var that = this;\n            var data = that.dataSource.flatView();\n            var dataLength = data.length + (that.hasOptionLabel() ? 1 : 0);\n            var isInLoop = sameCharsOnly(that._word, that._last);\n            var startIndex = that.selectedIndex;\n            var oldFocusedItem;\n            var text;\n\n            if (startIndex === -1) {\n                startIndex = 0;\n            } else {\n                startIndex += isInLoop ? 1 : 0;\n                startIndex = normalizeIndex(startIndex, dataLength);\n            }\n\n            data = data.toJSON ? data.toJSON() : data.slice();\n            data = that._shuffleData(data, startIndex);\n\n            for (var idx = 0; idx < dataLength; idx++) {\n                text = that._text(data[idx]);\n\n                if (isInLoop && that._matchText(text, that._last)) {\n                    break;\n                } else if (that._matchText(text, that._word)) {\n                    break;\n                }\n            }\n\n            if (idx !== dataLength) {\n                oldFocusedItem = that._focus();\n\n                that._select(normalizeIndex(startIndex + idx, dataLength)).done(function() {\n                    var done = function() {\n                        if (!that.popup.visible()) {\n                            that._change();\n                        }\n                    };\n\n                    if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                        that._select(oldFocusedItem).done(done);\n                    } else {\n                        done();\n                    }\n                });\n            }\n        },\n\n        _keypress: function(e) {\n            var that = this;\n\n            if (e.which === 0 || e.keyCode === kendo.keys.ENTER) {\n                return;\n            }\n\n            var character = String.fromCharCode(e.charCode || e.keyCode);\n\n            if (that.options.ignoreCase) {\n                character = character.toLowerCase();\n            }\n\n            if (character === \" \") {\n                e.preventDefault();\n            }\n\n            that._word += character;\n            that._last = character;\n\n            that._search();\n        },\n\n        _popupOpen: function() {\n            var popup = this.popup;\n\n            popup.wrapper = kendo.wrap(popup.element);\n\n            if (popup.element.closest(\".km-root\")[0]) {\n                popup.wrapper.addClass(\"km-popup km-widget\");\n                this.wrapper.addClass(\"km-widget\");\n            }\n        },\n\n        _popup: function() {\n            Select.fn._popup.call(this);\n            this.popup.one(\"open\", this._popupOpen.bind(this));\n        },\n\n        _getElementDataItem: function(element) {\n            if (!element || !element[0]) {\n                return null;\n            }\n\n            if (element[0] === this.optionLabel[0]) {\n                return this._optionLabelDataItem();\n            }\n\n            return this.listView.dataItemByIndex(this.listView.getElementIndex(element));\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item || $(e.currentTarget);\n\n            e.preventDefault();\n\n            if (that.trigger(\"select\", { dataItem: that._getElementDataItem(item), item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n                that._focusElement(that.wrapper);\n            });\n        },\n\n        _focusElement: function(element) {\n            var active = activeElement();\n            var wrapper = this.wrapper;\n            var filterInput = this.filterInput;\n            var compareElement = element === filterInput ? wrapper : filterInput;\n            var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n            if (filterInput && filterInput[0] === element[0] && touchEnabled) {\n                return;\n            }\n\n            if (filterInput && (compareElement[0] === active || this._focusFilter)) {\n                this._focusFilter = false;\n                this._prevent = true;\n                this._focused = element.trigger(\"focus\");\n            }\n        },\n\n        _searchByWord: function(word) {\n            if (!word) {\n                return;\n            }\n\n            var that = this;\n            var ignoreCase = that.options.ignoreCase;\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            that._select(function(dataItem) {\n                return that._matchText(that._text(dataItem), word);\n            });\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _search: function() {\n            var that = this;\n            var dataSource = that.dataSource;\n\n            clearTimeout(that._typingTimeout);\n\n            if (that._isFilterEnabled()) {\n                that._typingTimeout = setTimeout(function() {\n                    var value = that.filterInput.val();\n\n                    if (that._prev !== value) {\n                        that._prev = value;\n                        that.search(value);\n                        that._resizeFilterInput();\n                    }\n\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            } else {\n                that._typingTimeout = setTimeout(function() {\n                    that._word = \"\";\n                }, that.options.delay);\n\n                if (!that.listView.bound()) {\n                    dataSource.fetch().done(function() {\n                        that._selectNext();\n                    });\n                    return;\n                }\n\n                that._selectNext();\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n            var isFunction = typeof candidate === \"function\";\n            var jQueryCandidate = !isFunction ? $(candidate) : $();\n\n            if (this.hasOptionLabel()) {\n                if (typeof candidate === \"number\") {\n                    if (candidate > -1) {\n                        candidate -= 1;\n                    }\n                } else if (jQueryCandidate.hasClass(\"k-list-optionlabel\")) {\n                    candidate = -1;\n                }\n            }\n\n            if (isFunction) {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            return candidate;\n        },\n\n        _firstItem: function() {\n            if (this.hasOptionLabel()) {\n                this._focus(this.optionLabel);\n            } else {\n                this.listView.focusFirst();\n            }\n        },\n\n        _lastItem: function() {\n            this._resetOptionLabel();\n            this.listView.focusLast();\n        },\n\n        _nextItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                this._resetOptionLabel();\n                this.listView.focusFirst();\n                focusIndex = 1;\n            } else {\n                focusIndex = this.listView.focusNext();\n            }\n\n            return focusIndex;\n        },\n\n        _prevItem: function() {\n            var focusIndex;\n\n            if (this.optionLabel.hasClass(\"k-focus\")) {\n                return;\n            }\n\n            focusIndex = this.listView.focusPrev();\n\n            if (!this.listView.focus() && !this.options.virtual) {\n                this._focus(this.optionLabel);\n            }\n\n            return focusIndex;\n        },\n\n        _focusItem: function() {\n            var options = this.options;\n            var listView = this.listView;\n            var focusedItem = listView.focus();\n            var index = listView.select();\n\n            index = index[index.length - 1];\n\n            if (index === undefined$1 && options.highlightFirst && !focusedItem) {\n                index = 0;\n            }\n\n            if (index !== undefined$1) {\n                listView.focus(index);\n            } else {\n                if (options.optionLabel && (!options.virtual || options.virtual.mapValueTo !== \"dataItem\")) {\n                    this._focus(this.optionLabel);\n                    this._select(this.optionLabel);\n                    this.listView.content.scrollTop(0);\n                } else {\n                    listView.scrollToIndex(0);\n                }\n            }\n        },\n\n        _resetOptionLabel: function(additionalClass) {\n            this.optionLabel.removeClass(\"k-focus\" + (additionalClass || \"\")).removeAttr(\"id\");\n        },\n\n        _focus: function(candidate) {\n            var listView = this.listView;\n            var optionLabel = this.optionLabel;\n\n            if (candidate === undefined$1) {\n                candidate = listView.focus();\n\n                if (!candidate && optionLabel.hasClass(\"k-focus\")) {\n                    candidate = optionLabel;\n                }\n\n                return candidate;\n            }\n\n            this._resetOptionLabel();\n\n            candidate = this._get(candidate);\n\n            listView.focus(candidate);\n\n            if (candidate === -1) {\n                optionLabel.addClass(\"k-focus\")\n                           .attr(\"id\", listView._optionID);\n\n                if (this.filterInput) {\n                    this.filterInput\n                        .removeAttr(\"aria-activedescendant\")\n                        .attr(\"aria-activedescendant\", listView._optionID);\n                }\n            }\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n\n                if (candidate === -1) {\n                    that._selectValue(null);\n                }\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var that = this;\n            var optionLabel = that.options.optionLabel;\n            var idx = that.listView.select();\n\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined$1) {\n                idx = -1;\n            }\n\n            this._resetOptionLabel(\" k-selected\");\n\n            if (dataItem || dataItem === 0) {\n                text = dataItem;\n                value = that._dataValue(dataItem);\n                if (optionLabel) {\n                    idx += 1;\n                }\n            } else if (optionLabel) {\n                that._focus(that.optionLabel.addClass(\"k-selected\"));\n\n                text = that._optionLabelText();\n\n                if (typeof optionLabel === \"string\") {\n                    value = \"\";\n                } else {\n                    value = that._value(optionLabel);\n                }\n\n                idx = 0;\n            }\n\n            that.selectedIndex = idx;\n\n            if (value === null) {\n                value = \"\";\n            }\n\n            that._textAccessor(text);\n            that._accessor(value, idx);\n\n            that._triggerCascade();\n        },\n\n        _mobile: function() {\n            var that = this,\n                popup = that.popup,\n                mobileOS = support.mobileOS,\n                root = popup.element.parents(\".km-root\").eq(0);\n\n            if (root.length && mobileOS) {\n                popup.options.animation.open.effects = (mobileOS.android || mobileOS.meego) ? \"fadeIn\" : (mobileOS.ios || mobileOS.wp) ? \"slideIn:up\" : popup.options.animation.open.effects;\n            }\n        },\n\n        _filterHeader: function() {\n            var filterTemplate = '<div class=\"k-list-filter\">' +\n                '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                    '<span class=\"k-input-icon k-icon k-i-search\"></span>' +\n                '</span>' +\n            '</div>';\n\n            if (this.filterInput) {\n                this.filterInput\n                    .off(ns)\n                    .closest(\".k-list-filter\")\n                    .remove();\n\n                this.filterInput = null;\n            }\n\n            if (this._isFilterEnabled()) {\n                this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                    .attr({\n                        placeholder: this.element.attr(\"placeholder\"),\n                        title: this.options.filterTitle || this.element.attr(\"title\"),\n                        role: \"searchbox\",\n                        \"aria-label\": this.options.filterTitle,\n                        \"aria-haspopup\": \"listbox\",\n                        \"aria-autocomplete\": \"list\"\n                    });\n\n                this.list\n                    .parent()\n                    .prepend($(filterTemplate))\n                    .find(\".k-searchbox\")\n                    .append(this.filterInput);\n            }\n        },\n\n        _span: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                SELECTOR = \"span.k-input-value-text\",\n                id = kendo.guid(),\n                options = that.options,\n                span, arrowBtn;\n\n            span = wrapper.find(SELECTOR);\n\n            if (!span[0]) {\n                arrowBtn = html.renderButton('<span role=\"button\" class=\"k-input-button\" aria-label=\"select\"></span>', {\n                    icon: \"arrow-s\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\"\n                });\n\n                wrapper.append('<span id=\"' + id + '\" unselectable=\"on\" class=\"k-input-inner\">' +\n                            '<span class=\"k-input-value-text\"></span>' +\n                        '</span>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                span = wrapper.find(SELECTOR);\n            }\n\n            that.span = span;\n            that._arrow = wrapper.find(\".k-input-button\");\n            that._arrowIcon = that._arrow.find(\".k-icon\");\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                DOMelement = element[0],\n                wrapper;\n\n            wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-picker\")) {\n                wrapper = element.wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = DOMelement.style.cssText;\n                wrapper[0].title = DOMelement.title;\n            }\n\n            that._focused = that.wrapper = wrapper\n                .addClass(\"k-picker k-dropdownlist\")\n                .addClass(DOMelement.className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\")\n                .attr({\n                    accesskey: element.attr(\"accesskey\"),\n                    unselectable: \"on\",\n                    role: \"combobox\",\n                    \"aria-expanded\": false\n                });\n\n            element.hide().removeAttr(\"accesskey\");\n        },\n\n        _clearSelection: function(parent) {\n            this.select(parent.value() ? 0 : -1);\n        },\n\n        _openHandler: function(e) {\n            this._adjustListWidth();\n\n            if (this.trigger(OPEN)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", true);\n                this.ul.attr(\"aria-hidden\", false);\n            }\n        },\n\n        _closeHandler: function(e) {\n            if (this.trigger(CLOSE)) {\n                e.preventDefault();\n            } else {\n                this.wrapper.attr(\"aria-expanded\", false);\n                this.ul.attr(\"aria-hidden\", true);\n            }\n        },\n\n        _inputTemplate: function() {\n            var that = this,\n                template = that.options.valueTemplate;\n\n\n            if (!template) {\n                template = kendo.template('#:this._text(data)#', { useWithBlock: false }).bind(that);\n            } else {\n                template = kendo.template(template);\n            }\n\n            that.valueTemplate = template;\n\n            if (that.hasOptionLabel() && !that.options.optionLabelTemplate) {\n                try {\n                    that.valueTemplate(that._optionLabelDataItem());\n                } catch (e) {\n                    throw new Error(MSG_INVALID_OPTION_LABEL);\n                }\n            }\n        },\n\n        _textAccessor: function(text) {\n            var dataItem = null;\n            var template = this.valueTemplate;\n            var optionLabelText = this._optionLabelText();\n            var span = this.span;\n\n            if (text === undefined$1) {\n                return span.text();\n            }\n\n            if ($.isPlainObject(text) || text instanceof ObservableObject) {\n                dataItem = text;\n            } else if (optionLabelText && optionLabelText === text) {\n                dataItem = this.options.optionLabel;\n            }\n\n            if (!dataItem) {\n                dataItem = this._assignInstance(text, this._accessor());\n            }\n\n            if (this.hasOptionLabel()) {\n                if (dataItem === optionLabelText || this._text(dataItem) === optionLabelText) {\n                    template = this.optionLabelTemplate;\n\n                    if (typeof this.options.optionLabel === \"string\" && !this.options.optionLabelTemplate) {\n                        dataItem = optionLabelText;\n                    }\n                }\n            }\n\n            var getElements = function() {\n                return {\n                    elements: span.get(),\n                    data: [ { dataItem: dataItem } ]\n                };\n            };\n\n            this.angular(\"cleanup\", getElements);\n\n            try {\n                span.html(template(dataItem));\n            } catch (e) {\n                //dataItem has missing fields required in custom template\n                span.html(\"\");\n            }\n\n            this.angular(\"compile\", getElements);\n        },\n\n        _preselect: function(value, text) {\n            if (!value && !text) {\n                text = this._optionLabelText();\n            }\n\n            this._accessor(value);\n            this._textAccessor(text);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n\n            this._initialIndex = null;\n            this._presetValue = true;\n        },\n\n        _assignInstance: function(text, value) {\n            var dataTextField = this.options.dataTextField;\n            var dataItem = {};\n\n            if (dataTextField) {\n                assign(dataItem, dataTextField.split(\".\"), text);\n                assign(dataItem, this.options.dataValueField.split(\".\"), value);\n                dataItem = new ObservableObject(dataItem);\n            } else {\n                dataItem = text;\n            }\n\n            return dataItem;\n        }\n    });\n\n    function assign(instance, fields, value) {\n        var idx = 0,\n            lastIndex = fields.length - 1,\n            field;\n\n        for (; idx < lastIndex; ++idx) {\n            field = fields[idx];\n\n            if (!(field in instance)) {\n                instance[field] = {};\n            }\n\n            instance = instance[field];\n        }\n\n        instance[fields[lastIndex]] = value;\n    }\n\n    function normalizeIndex(index, length) {\n        if (index >= length) {\n            index -= length;\n        }\n        return index;\n    }\n\n    function sameCharsOnly(word, character) {\n        for (var idx = 0; idx < word.length; idx++) {\n            if (word.charAt(idx) !== character) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    ui.plugin(DropDownList);\n\n    kendo.cssProperties.registerPrefix(\"DropDownList\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"DropDownList\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\n"]}