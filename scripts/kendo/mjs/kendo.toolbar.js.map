{"version":3,"file":"kendo.toolbar.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","Class","ui","Widget","isFunction","keys","outerWidth","_outerWidth","ns","KBUTTON","OVERFLOW_BUTTON","TOGGLE_BUTTON","BUTTON_GROUP","SPLIT_BUTTON","MENU_BUTTON","KSEPARATOR","SPACER_CLASS","STATE_SELECTED","STATE_DISABLED","STATE_HIDDEN","FORCE_HIDDEN","OVERFLOW_HIDDEN","OVERFLOW_ANCHOR","OVERFLOW_CONTAINER","FIRST_TOOLBAR_VISIBLE","LAST_TOOLBAR_VISIBLE","SPLIT_BUTTON_ARROW","TEMPLATE_ITEM","DROPDOWNLIST","COLORPICKER","INPUT_BUTTON","KFOCUS","ARIA_DISABLED","ARIA_LEBEL","CLICK","TOGGLE","OPEN","CLOSE","FOCUS","KEYDOWN","SPACER","BOTH","PRIMARY","ROLE","BUTTON","SPLITBUTTON","DROPDOWNBUTTON","SEPARATOR","OVERFLOW","NEXT","TABINDEX","TEMPLATE","INPUT","HIDDEN","GROUP","KENDO_FOCUSABLE","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OPTION_LIST_SUFFIX","KENDO_UID_ATTR","attr","EMPTY","NOTHING","TEXT_ITEM","DOT","COMMA","toolbar","components","overflowAnchor","overflowContainer","registerComponent","overflow","Item","extend","addOverflowAttr","this","element","options","addUidAttr","uid","addIdAttr","addOverflowIdAttr","attributes","classes","class","addClass","show","removeClass","hidden","hide","overflowHidden","remove","enable","isEnabled","toggleClass","twin","splitContainerId","find","data","type","resizable","popup","BareItem","init","Button","useButtonTag","primary","themeColor","togglable","toggle","selected","url","mobile","group","addToGroup","click","clickHandler","toggleHandler","showIcon","showText","state","propagate","select","getParentGroup","isChild","closest","ToolBarButton","fn","call","align","text","html","icon","spriteCssClass","imageUrl","renderButton","button","OverflowButton","_wrap","wrap","parent","ButtonGroup","createButtons","buttonConstructor","items","buttons","i","length","guid","appendTo","refresh","children","filter","first","last","ToolBarButtonGroup","buttonGroup","OverflowButtonGroup","ToolBarMenuButton","template","href","prependTo","ToolBarSplitButton","that","splitButton","SplitButton","_extend","menuButtons","wrapper","bind","_buttonClick","_close","_open","addMenuAttributes","ev","trigger","target","preventDefault","map","item","itemInstance","each","index","elmToRemove","destroy","mainButton","OverflowSplitButton","main","elements","add","ToolBarDropDownButton","dropDownButton","DropDownButton","OverflowTextItem","append","textItem","OverflowDropDownButton","ToolBarSeparator","separator","OverflowSeparator","ToolBarSpacer","TemplateItem","jQuery","OverflowTemplateItem","toggleActive","e","is","preventClick","findFocusableSibling","dir","getSibling","next","prev","getter","candidate","Group","inArray","splice","ToolBar","TOOLBAR","_isRtl","support","isRtl","_groups","isMobile","animation","open","effects","_renderOverflow","overflowUserEvents","UserEvents","threshold","allowSelection","tap","_toggleOverflow","_resizeHandler","onResize","resize","_shrink","innerWidth","userEvents","document","documentElement","press","release","on","_keydown","_focusIn","_focusOut","_toggleOverflowAnchor","_tabIndex","notify","events","navigateOnTab","groupName","destroySplitButtons","destroyDropDownButtons","off","unbindResize","idx","_getItem","tool","overflowTool","inputsInTemplate","component","itemClasses","overflowTemplate","rootUid","container","angular","get","toolbarItem","overflowItem","isResizable","buttonGroupInstance","getSelectedFromGroup","checked","horizontalDirection","hasClass","Popup","origin","position","anchor","copyAnchorStyles","css","parseFloat","innerHeight","width","activate","close","li","isComplexTool","keyCode","ESC","TAB","altKey","UP","DOWN","SPACEBAR","ENTER","HOME","END","paddingEnd","visibility","handler","eventData","urlTarget","templateFocusable","_resetTabIndex","sender","innerFocusable","innerWidget","widgetInstance","_getItems","direction","templateItem","activeElement","visible","eq","RIGHT","_getNextElement","LEFT","itemIndex","parentElement","focusableItem","current","_toggle","_resize","containerWidth","_stretch","_markVisibles","_childrenWidth","childrenWidth","gap","parseInt","Math","ceil","commandElement","visibleCommands","_hideItem","hiddenCommands","_showItem","itemOuterWidth","overflowItems","toolbarItems","visibleOverflowItems","visibleToolbarItems","toFocus","focusableItems","firstFocusable","plugin"],"sources":["kendo.toolbar.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.userevents.js';\nimport './kendo.popup.js';\nimport './kendo.html.button.js';\nimport './kendo.splitbutton.js';\nimport './kendo.dropdownbutton.js';\n\nvar __meta__ = {\n    id: \"toolbar\",\n    name: \"ToolBar\",\n    category: \"web\",\n    description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n    depends: [ \"core\", \"html.button\", \"splitbutton\", \"dropdownbutton\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        isFunction = kendo.isFunction,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoToolBar\",\n        TOOLBAR = \"k-toolbar\",\n        KBUTTON = \"k-button\",\n        OVERFLOW_BUTTON = \"k-overflow-button\",\n        TOGGLE_BUTTON = \"k-toggle-button\",\n        BUTTON_GROUP = \"k-button-group\",\n        SPLIT_BUTTON = \"k-split-button\",\n        MENU_BUTTON = \"k-menu-button\",\n        KSEPARATOR = \"k-separator\",\n        SPACER_CLASS = \"k-spacer\",\n        POPUP = \"k-popup\",\n        RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n        STATE_SELECTED = \"k-selected\",\n        STATE_DISABLED = \"k-disabled\",\n        STATE_HIDDEN = \"k-hidden\",\n        FORCE_HIDDEN = \"k-force-hidden\",\n        GROUP_START = \"k-group-start\",\n        GROUP_END = \"k-group-end\",\n        MENU_LINK = \"k-menu-link\",\n        MENU_ITEM = \"k-menu-item\",\n        OVERFLOW_GROUP = \"k-overflow-group\",\n        OVERFLOW_HIDDEN = \"k-overflow-hidden\",\n        OVERFLOW_ANCHOR = \"k-overflow-anchor\",\n        OVERFLOW_CONTAINER = \"k-overflow-container\",\n        OVERFLOW_WRAPPER = \"k-overflow-wrapper\",\n        FIRST_TOOLBAR_VISIBLE = \"k-toolbar-first-visible\",\n        LAST_TOOLBAR_VISIBLE = \"k-toolbar-last-visible\",\n        SPLIT_BUTTON_ARROW = \"k-split-button-arrow\",\n        TEMPLATE_ITEM = \"k-toolbar-item\",\n        DROPDOWNLIST = \"k-dropdownlist\",\n        COLORPICKER = \"k-colorpicker\",\n        INPUT_BUTTON = \"k-input-button\",\n        KFOCUS = \"k-focus\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_PRESSED = \"aria-pressed\",\n        ARIA_LEBEL = \"aria-label\",\n\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        FOCUS = \"focus\",\n        KEYDOWN = \"keydown\",\n        TAP = \"tap\",\n\n        SPACER = \"spacer\",\n        BOTH = \"both\",\n        PRIMARY = \"primary\",\n        HREF = \"href\",\n        ROLE = \"role\",\n        BUTTON = \"button\",\n        SPLITBUTTON = \"splitButton\",\n        DROPDOWNBUTTON = \"dropDownButton\",\n        SEPARATOR = \"separator\",\n        OVERFLOW = \"overflow\",\n        NEXT = \"next\",\n        PREV = \"prev\",\n        TABINDEX = \"tabindex\",\n        TEMPLATE = \"template\",\n        INPUT = \"input\",\n        SELECT = \"select\",\n        CHECKBOX = \"checkbox\",\n        HIDDEN = \"hidden\",\n        GROUP = \"group\",\n\n        KENDO_FOCUSABLE = \":kendoFocusable\",\n\n        OVERFLOW_OPEN = \"overflowOpen\",\n        OVERFLOW_CLOSE = \"overflowClose\",\n        OVERFLOW_NEVER = \"never\",\n        OVERFLOW_AUTO = \"auto\",\n        OVERFLOW_ALWAYS = \"always\",\n\n        OPTION_LIST_SUFFIX = \"_optionlist\",\n\n        KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n        POPUP_ITEM_TEMPLATE = '<li class=\"k-menu-item k-item\">',\n\n        MENU_LINK_SPAN = '<span tabindex=\"0\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</span>',\n\n        MENU_LINK_A = '<a href=\"#:href#\" class=\"k-link k-menu-link\">' +\n                '<span class=\"k-menu-link-text\">#:text#</span>' +\n            '</a>',\n\n        EMPTY = \" \",\n        NOTHING = \"\",\n        TEXT_ITEM = \"textItem\",\n        DOT = \".\",\n        COMMA = \",\",\n        ID = \"id\",\n        UID = \"uid\";\n\n        kendo.toolbar = {};\n\n        var components = {\n            overflowAnchor: '<div tabindex=\"0\" class=\"k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" title=\"More tools\" role=\"button\"></div>',\n            overflowContainer: '<ul class=\"k-overflow-container k-list-container\"></ul>'\n        };\n\n        kendo.toolbar.registerComponent = function(name, toolbar, overflow) {\n            components[name] = {\n                toolbar: toolbar,\n                overflow: overflow\n            };\n        };\n\n        var Item = kendo.Class.extend({\n            addOverflowAttr: function() {\n                this.element.attr(kendo.attr(OVERFLOW), this.options.overflow || OVERFLOW_AUTO);\n            },\n\n            addUidAttr: function() {\n                this.element.attr(KENDO_UID_ATTR, this.options.uid);\n            },\n\n            addIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id);\n                }\n            },\n\n            addOverflowIdAttr: function() {\n                if (this.options.id) {\n                    this.element.attr(ID, this.options.id + \"_overflow\");\n                }\n            },\n\n            attributes: function() {\n                var attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        this.element.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    this.element.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n\n            show: function() {\n                this.element.removeClass(STATE_HIDDEN);\n                this.element.removeClass(FORCE_HIDDEN);\n                this.options.hidden = false;\n            },\n\n            hide: function() {\n                this.element.addClass(STATE_HIDDEN);\n                this.element.addClass(FORCE_HIDDEN);\n\n                if (this.overflow && this.overflowHidden) {\n                    this.overflowHidden();\n                }\n                this.options.hidden = true;\n            },\n\n            remove: function() {\n                this.element.remove();\n            },\n\n            enable: function(isEnabled) {\n                if (isEnabled === undefined$1) {\n                    isEnabled = true;\n                }\n                this.element.toggleClass(STATE_DISABLED, !isEnabled);\n                this.element.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            twin: function() {\n                var uid = this.element.attr(KENDO_UID_ATTR);\n                if (this.overflow && this.options.splitContainerId) {\n                    return $(\"#\" + this.options.splitContainerId)\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.overflow) {\n                    return this.toolbar\n                            .element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                } else if (this.toolbar.options.resizable) {\n                    return this.toolbar\n                            .popup.element\n                            .find(\"[\" + KENDO_UID_ATTR + \"='\" + uid + \"']\")\n                            .data(this.options.type);\n                }\n            }\n        });\n\n        kendo.toolbar.Item = Item;\n\n        var BareItem = Item.extend({\n            init: function(options, toolbar) {\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n            }\n        });\n\n        kendo.toolbar.BareItem = BareItem;\n\n        var Button = Item.extend({\n            init: function(options, toolbar) {\n                var element = options.useButtonTag ? $('<button></button>') : $('<a role=\"button\" href></a>');\n\n                this.element = element;\n                this.options = $.extend({}, this.options, options);\n                this.toolbar = toolbar;\n\n                this.attributes();\n\n                if (options.primary) {\n                    this.options.themeColor = PRIMARY;\n                }\n\n                if (options.togglable) {\n                    element.addClass(TOGGLE_BUTTON);\n                    this.toggle(options.selected);\n                }\n\n                if (options.url !== undefined$1 && !options.useButtonTag) {\n                    element.attr(HREF, options.url);\n                    if (options.mobile) {\n                        element.attr(kendo.attr(ROLE), BUTTON);\n                    }\n                }\n\n                if (options.group) {\n                    element.attr(kendo.attr(GROUP), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (!options.togglable && options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n            },\n\n            options: {\n                showIcon: BOTH,\n                showText: BOTH\n            },\n\n            toggle: function(state, propagate) {\n                state = !!state;\n\n                if (this.group && state) {\n                    this.group.select(this);\n                } else if (!this.group) {\n                    this.select(state);\n                }\n\n                if (propagate && this.twin()) {\n                    this.twin().toggle(state);\n                }\n            },\n\n            getParentGroup: function() {\n                if (this.options.isChild) {\n                    return this.element.closest(DOT + BUTTON_GROUP).data(\"buttonGroup\");\n                }\n            }\n        });\n\n        kendo.toolbar.Button = Button;\n\n        var ToolBarButton = Button.extend({\n            init: function(options, toolbar) {\n                Button.fn.init.call(this, options, toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                element.addClass(KBUTTON);\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                if (!!options.text && (options.showText == \"toolbar\" || options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(ARIA_LEBEL, options.text);\n                }\n\n                if (options.icon || options.spriteCssClass || options.imageUrl) {\n                    if (options.showIcon !== \"toolbar\" && options.showIcon !== BOTH) {\n                        options.icon = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            select: function(selected) {\n                if (selected === undefined$1) {\n                    selected = false;\n                }\n\n                if (this.options.togglable) {\n                    this.element.attr(ARIA_PRESSED, selected);\n                }\n\n                this.element.toggleClass(STATE_SELECTED, selected);\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.ToolBarButton = ToolBarButton;\n\n        var OverflowButton = Button.extend({\n            init: function(options, toolbar) {\n                this.overflow = true;\n\n                Button.fn.init.call(this, $.extend({}, options), toolbar);\n\n                var element = this.element;\n                options = this.options;\n\n                if (!!options.text && (options.showText == OVERFLOW || options.showText == BOTH)) {\n                    if (options.mobile) {\n                        element.html('<span class=\"km-text\">' + options.text + \"</span>\");\n                    } else {\n                        element.html(options.text);\n                    }\n                } else if (!!options.text) {\n                    element.attr(ARIA_LEBEL, options.text);\n                }\n\n                if (options.icon || options.spriteCssClass || options.imageUrl) {\n                    if (options.showIcon !== OVERFLOW && options.showIcon !== BOTH) {\n                        options.icon = null;\n                        options.spriteCssClass = null;\n                        options.imageUrl = null;\n                    }\n                }\n\n                kendo.html.renderButton(element, options);\n\n                if (!options.isChild) {\n                    this._wrap();\n                }\n\n                this.addOverflowIdAttr();\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.enable(options.enable);\n\n                element.addClass(OVERFLOW_BUTTON + EMPTY + KBUTTON);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                if (options.togglable) {\n                    this.toggle(options.selected);\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            },\n\n            _wrap: function() {\n                this.element = this.element.wrap(POPUP_ITEM_TEMPLATE).parent();\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            },\n\n            select: function(selected) {\n                if (selected === undefined$1) {\n                    selected = false;\n                }\n\n                if (this.options.isChild) {\n                    this.element.toggleClass(STATE_SELECTED, selected);\n                } else {\n                    this.element.find(DOT + KBUTTON).toggleClass(STATE_SELECTED, selected);\n                }\n                this.options.selected = selected;\n            }\n        });\n\n        kendo.toolbar.OverflowButton = OverflowButton;\n        kendo.toolbar.registerComponent(BUTTON, ToolBarButton, OverflowButton);\n\n        var ButtonGroup = Item.extend({\n            createButtons: function(buttonConstructor) {\n                var options = this.options;\n                var items = options.buttons || [];\n                var item;\n\n                for (var i = 0; i < items.length; i++) {\n                    if (!items[i].uid) {\n                        items[i].uid = kendo.guid();\n                    }\n                    item = new buttonConstructor($.extend({ mobile: options.mobile, isChild: true, type: BUTTON }, items[i]), this.toolbar);\n                    item.element.appendTo(this.element);\n                }\n            },\n\n            refresh: function() {\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").first().addClass(GROUP_START);\n                this.element.children().filter(\":not('.\" + STATE_HIDDEN + \"')\").last().addClass(GROUP_END);\n            }\n        });\n\n        kendo.toolbar.ButtonGroup = ButtonGroup;\n\n        var ToolBarButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div></div>');\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.addIdAttr();\n\n                if (options.align) {\n                    element.addClass(\"k-align-\" + options.align);\n                }\n\n                this.createButtons(ToolBarButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass(BUTTON_GROUP);\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarButtonGroup = ToolBarButtonGroup;\n\n        var OverflowButtonGroup = ButtonGroup.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li></li>');\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.addOverflowIdAttr();\n\n                this.createButtons(OverflowButton);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.refresh();\n\n                element.addClass((options.mobile ? NOTHING : BUTTON_GROUP) + EMPTY + OVERFLOW_GROUP);\n\n                this.element.data({\n                    type: \"buttonGroup\",\n                    buttonGroup: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowButtonGroup = OverflowButtonGroup;\n        kendo.toolbar.registerComponent(\"buttonGroup\", ToolBarButtonGroup, OverflowButtonGroup);\n\n        var ToolBarMenuButton = ToolBarButton.extend({\n            init: function(options, toolbar) {\n                var element, img, span;\n\n                options = this.options = $.extend({}, this.options, options);\n\n                if (options.url !== undefined$1) {\n                    element = $(kendo.template(MENU_LINK_A)({\n                        href: options.url,\n                        text: options.text\n                    }));\n                } else {\n                    element = $(kendo.template(MENU_LINK_SPAN)({\n                        text: options.text\n                    }));\n                }\n\n                this.element = element;\n                this.toolbar = toolbar;\n\n                if (options.click && isFunction(options.click)) {\n                    this.clickHandler = options.click;\n                }\n\n                if (options.togglable && options.toggle && isFunction(options.toggle)) {\n                    this.toggleHandler = options.toggle;\n                }\n\n                if (options.imageUrl) {\n                    img = $('<img alt=\"icon\" class=\"k-image\" />').prependTo(element);\n                    img.attr(\"src\", options.imageUrl);\n                } else if (options.icon) {\n                    span = $('<span></span>').prependTo(element);\n                    span.attr(\"class\", \"k-icon k-i-\" + options.icon);\n                } else if (options.spriteCssClass) {\n                    span = $('<span class=\"k-sprite\"></span>').prependTo(element);\n                    span.addClass(options.spriteCssClass);\n                }\n\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n                this.attributes();\n                this.enable(options.enable);\n\n                if (options.group) {\n                    element.attr(kendo.attr(GROUP), options.group);\n                    this.group = this.toolbar.addToGroup(this, options.group);\n                }\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                this.element.data({\n                    type: BUTTON,\n                    button: this\n                });\n            }\n        });\n\n        kendo.toolbar.ToolBarMenuButton = ToolBarMenuButton;\n\n        var ToolBarSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var that = this;\n\n                that.options = $.extend({\n                    id: options.id || options.uid,\n                    enable: true\n                }, options, {\n                    togglable: false // disable togglable for splitbutton\n                });\n\n                if (options.primary) {\n                    that.options.themeColor = PRIMARY;\n                }\n\n                if (options.showIcon === OVERFLOW) {\n                    that.options.icon = null;\n                }\n\n                if (options.showText === OVERFLOW) {\n                    that.options.text = \"\";\n                }\n\n                that.toolbar = toolbar;\n\n                that.splitButton = new ui.SplitButton($(\"<button id='\" + that.options.id + \"'>\" + that.options.text + \"</button>\"),\n                                                         $.extend({}, that.options, {\n                                                             items: that._extend(options.menuButtons),\n                                                        }), toolbar.options);\n                that.element = that.splitButton.wrapper;\n\n                that.splitButton.bind(CLICK, toolbar._buttonClick.bind(toolbar));\n                that.splitButton.bind(CLOSE, that._close.bind(that));\n                that.splitButton.bind(OPEN, that._open.bind(that));\n\n                that.splitButton.element.data({\n                    type: SPLITBUTTON,\n                    button: that,\n                    splitButton: that\n                });\n\n                that.splitButton.wrapper.data({\n                    type: SPLITBUTTON,\n                    button: that,\n                    splitButton: that\n                });\n\n                that.addOverflowAttr();\n                that.addUidAttr();\n                that.attributes();\n                that.addMenuAttributes();\n\n                if (that.options.enable === false) {\n                    that.enable(this.options.enable);\n                }\n\n                if (that.options.hidden) {\n                    that.hide();\n                }\n            },\n            _open: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n            },\n            _close: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n                that.splitButton.element.trigger(FOCUS);\n            },\n            _extend: function(items) {\n                var that = this;\n                return items.map(function(item) {\n                    var itemInstance = new BareItem(item, that.toolbar);\n                    return $.extend({}, item, {\n                        togglable: false,\n                        data: function() {\n                            return {\n                                type: BUTTON,\n                                button: itemInstance,\n                                splitButton: that\n                            };\n                        }\n                    });\n                });\n            },\n            addMenuAttributes: function() {\n                var that = this,\n                    items = that.splitButton.items(),\n                    itemInstance;\n\n                items.each(function(index, item) {\n                    item = $(item);\n                    itemInstance = item.data(BUTTON);\n                    itemInstance.element = item;\n                    itemInstance.options = $.extend({\n                        type: BUTTON,\n                        enable: true\n                    }, itemInstance.options);\n\n                    itemInstance.addOverflowAttr();\n                    itemInstance.addUidAttr();\n                });\n            },\n            remove: function() {\n                var elmToRemove = this.splitButton.wrapper;\n                this.splitButton.destroy();\n                elmToRemove.remove();\n            },\n            enable: function(enable, item) {\n                this.splitButton.enable(enable, item, true);\n\n                if (this.twin()) {\n                    this.twin().enable(enable);\n                }\n            },\n            attributes: function() {\n                var that = this,\n                    mainButton = that.splitButton.element,\n                    attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        mainButton.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    mainButton.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n        });\n\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n\n        var OverflowSplitButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + '\"></li>'),\n                    items = options.menuButtons,\n                    item, splitContainerId;\n\n                this.options = $.extend({}, options, { togglable: false });\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n\n                this.mainButton = new OverflowButton($.extend({ isChild: true }, options, { togglable: false }));\n                this.mainButton.element.appendTo(element);\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({ mobile: options.mobile, type: BUTTON, splitContainerId: splitContainerId, isChild: true }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                this.mainButton.main = true;\n\n                if (this.options.enable === false) {\n                    this.enable(this.options.enable);\n                }\n\n                element.data({\n                    type: SPLITBUTTON,\n                    splitButton: this\n                });\n            },\n\n            enable: function(isEnabled) {\n                var elements = this.element.add(this.element.find(DOT + OVERFLOW_BUTTON));\n\n                if (isEnabled === undefined$1) {\n                    isEnabled = true;\n                }\n\n                elements.toggleClass(STATE_DISABLED, !isEnabled);\n                elements.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowSplitButton = OverflowSplitButton;\n        kendo.toolbar.registerComponent(SPLITBUTTON, ToolBarSplitButton, OverflowSplitButton);\n\n        var ToolBarDropDownButton = Item.extend({\n            init: function(options, toolbar) {\n                var that = this;\n\n                that.options = $.extend({\n                    id: options.id || options.uid,\n                    enable: true\n                }, options, {\n                    togglable: false // disable togglable for dropdownbutton\n                });\n\n                if (options.primary) {\n                    that.options.themeColor = PRIMARY;\n                }\n\n                if (options.showIcon === OVERFLOW) {\n                    that.options.icon = null;\n                }\n\n                if (options.showText === OVERFLOW) {\n                    that.options.text = \"\";\n                }\n\n                that.toolbar = toolbar;\n\n                that.dropDownButton = new ui.DropDownButton($(\"<button id='\" + that.options.id + \"'>\" + that.options.text + \"</button>\"),\n                                                         $.extend({}, that.options, {\n                                                             items: that._extend(options.menuButtons)\n                                                        }), toolbar.options);\n                that.element = that.dropDownButton.element;\n\n                that.dropDownButton.bind(CLICK, toolbar._buttonClick.bind(toolbar));\n                that.dropDownButton.bind(CLOSE, that._close.bind(that));\n                that.dropDownButton.bind(OPEN, that._open.bind(that));\n\n                that.dropDownButton.element.data({\n                    type: DROPDOWNBUTTON,\n                    button: that,\n                    dropDownButton: that\n                });\n\n                that.addOverflowAttr();\n                that.addUidAttr();\n                that.attributes();\n                that.addMenuAttributes();\n\n                if (that.options.enable === false) {\n                    that.enable(this.options.enable);\n                }\n\n                if (that.options.hidden) {\n                    that.hide();\n                }\n            },\n            _open: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(OPEN, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n            },\n            _close: function(ev) {\n                var that = this;\n                var isDefaultPrevented = that.toolbar.trigger(CLOSE, { target: that.element });\n                if (isDefaultPrevented) {\n                    ev.preventDefault();\n                }\n                that.dropDownButton.element.trigger(FOCUS);\n            },\n            _extend: function(items) {\n                var that = this;\n                return items.map(function(item) {\n                    var itemInstance = new BareItem(item, that.toolbar);\n                    return $.extend({}, item, {\n                        data: function() {\n                            return {\n                                type: BUTTON,\n                                button: itemInstance,\n                                dropDownButton: that\n                            };\n                        }\n                    });\n                });\n            },\n            addMenuAttributes: function() {\n                var that = this,\n                    items = that.dropDownButton.items(),\n                    itemInstance;\n\n                items.each(function(index, item) {\n                    item = $(item);\n                    itemInstance = item.data(BUTTON);\n                    itemInstance.element = item;\n                    itemInstance.options = $.extend({\n                        type: BUTTON,\n                        enable: true\n                    }, itemInstance.options);\n\n                    itemInstance.addOverflowAttr();\n                    itemInstance.addUidAttr();\n                });\n            },\n            remove: function() {\n                var elmToRemove = this.dropDownButton.element;\n                this.dropDownButton.destroy();\n                elmToRemove.remove();\n            },\n            enable: function(enable, item) {\n                this.dropDownButton.enable(enable, item, true);\n\n                if (this.twin()) {\n                    this.twin().enable(enable);\n                }\n            },\n            attributes: function() {\n                var that = this,\n                    mainButton = that.element,\n                    attributes = this.options.attributes,\n                    classes;\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = attributes.class;\n\n                        mainButton.addClass(classes);\n\n                        delete attributes.class;\n                    }\n\n                    mainButton.attr(attributes);\n\n                    attributes.class = classes;\n                }\n            },\n        });\n\n        kendo.toolbar.ToolBarSplitButton = ToolBarSplitButton;\n\n        var OverflowTextItem = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<span></span>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n\n                if (options.icon && (!options.showIcon || options.showIcon !== \"toolbar\")) {\n                    element.append(\"<span class=\\\"k-icon k-i-\" + options.icon + \"\\\"></span>\");\n                }\n\n                if (options.showText !== \"toolbar\") {\n                    element.append(\"<span>\" + this.options.text + \"</span>\");\n                }\n\n                element.data({\n                    type: TEXT_ITEM,\n                    textItem: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        var OverflowDropDownButton = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li class=\"' + SPLIT_BUTTON + ' ' + MENU_BUTTON + '\"></li>'),\n                    items = options.menuButtons,\n                    item, splitContainerId;\n\n                this.options = $.extend({}, options, { togglable: false });\n                this.toolbar = toolbar;\n                this.overflow = true;\n                splitContainerId = (options.id || options.uid) + OPTION_LIST_SUFFIX;\n\n                this.mainButton = new OverflowTextItem($.extend({ isChild: true }, options, { togglable: false }));\n                this.mainButton.element.appendTo(element);\n\n                for (var i = 0; i < items.length; i++) {\n                    item = new OverflowButton($.extend({ mobile: options.mobile, type: BUTTON, splitContainerId: splitContainerId, isChild: true }, items[i], { click: options.click }), this.toolbar);\n                    item.element.appendTo(element);\n                }\n\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                this.mainButton.main = true;\n\n                if (this.options.enable === false) {\n                    this.enable(this.options.enable);\n                }\n\n                element.data({\n                    type: DROPDOWNBUTTON,\n                    dropDownButton: this\n                });\n            },\n\n            enable: function(isEnabled) {\n                var elements = this.element.add(this.element.find(DOT + OVERFLOW_BUTTON));\n\n                if (isEnabled === undefined$1) {\n                    isEnabled = true;\n                }\n\n                elements.toggleClass(STATE_DISABLED, !isEnabled);\n                elements.attr(ARIA_DISABLED, !isEnabled);\n\n                this.options.enable = isEnabled;\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowSplitButton = OverflowDropDownButton;\n        kendo.toolbar.registerComponent(DROPDOWNBUTTON, ToolBarDropDownButton, OverflowDropDownButton);\n\n        var ToolBarSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addIdAttr();\n                this.addUidAttr();\n                this.addOverflowAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            }\n        });\n\n        var OverflowSeparator = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<li>&nbsp;</li>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n\n                element.addClass(KSEPARATOR);\n                element.attr(ROLE, SEPARATOR);\n\n                element.data({\n                    type: SEPARATOR,\n                    separator: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.registerComponent(\"separator\", ToolBarSeparator, OverflowSeparator);\n\n        var ToolBarSpacer = Item.extend({\n            init: function(options, toolbar) {\n                var element = this.element = $('<div>&nbsp;</div>');\n\n                this.element = element;\n                this.options = options;\n                this.toolbar = toolbar;\n\n                element.addClass(SPACER_CLASS);\n\n                element.data({\n                    type: SPACER\n                });\n                this.addOverflowAttr();\n            }\n        });\n\n        kendo.toolbar.registerComponent(SPACER, ToolBarSpacer);\n\n        var TemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? template(options) : template;\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\").html(element);\n                } else {\n                    element = element.wrap(\"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = options.type || TEMPLATE;\n                this.toolbar = toolbar;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addIdAttr();\n                this.addOverflowAttr();\n\n                if (options.hidden) {\n                    this.hide();\n                }\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            }\n        });\n\n        kendo.toolbar.TemplateItem = TemplateItem;\n\n        var OverflowTemplateItem = Item.extend({\n            init: function(template, options, toolbar) {\n                var element = isFunction(template) ? $(template(options)) : $(template);\n\n                if (!(element instanceof jQuery)) {\n                    element = $(\"<li></li>\").html(element);\n                } else {\n                    element = element.wrap(\"<li></li>\").parent();\n                }\n\n                this.element = element;\n                this.options = options;\n                this.options.type = TEMPLATE;\n                this.toolbar = toolbar;\n                this.overflow = true;\n\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowIdAttr();\n                this.addOverflowAttr();\n\n                element.data({\n                    type: TEMPLATE,\n                    template: this\n                });\n            },\n\n            overflowHidden: function() {\n                this.element.addClass(OVERFLOW_HIDDEN);\n            }\n        });\n\n        kendo.toolbar.OverflowTemplateItem = OverflowTemplateItem;\n\n        function toggleActive(e) {\n            if (!e.target.is(\".k-toggle-button\")) {\n                e.target.toggleClass(STATE_SELECTED, e.type == \"press\");\n            }\n        }\n\n        function actionSheetWrap(element) {\n            element = $(element);\n\n            return element.hasClass(\"km-actionsheet\") ? element.closest(\".km-popup-wrapper\") : element.addClass(\"km-widget km-actionsheet\")\n                             .wrap('<div class=\"km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup\"></div>').parent()\n                             .wrap('<div class=\"km-popup-wrapper k-popup\"></div>').parent();\n        }\n\n        function preventClick(e) {\n            if ($(e.target).closest(\"a.k-button\").length) {\n                e.preventDefault();\n            }\n        }\n\n        function findFocusableSibling(element, dir) {\n            var getSibling = dir === NEXT ? $.fn.next : $.fn.prev;\n            var getter = dir === NEXT ? $.fn.first : $.fn.last;\n            var candidate = getSibling.call(element);\n\n            if (!candidate.length && element.is(DOT + OVERFLOW_ANCHOR)) {\n                return element;\n            }\n\n            if (candidate.is(KENDO_FOCUSABLE) || !candidate.length) {\n                return candidate;\n            }\n\n            if (candidate.find(KENDO_FOCUSABLE).length) {\n                return getter.call(candidate.find(KENDO_FOCUSABLE));\n            }\n\n            return findFocusableSibling(candidate, dir);\n        }\n\n        var Group = Class.extend({\n            init: function(name) {\n                this.name = name;\n                this.buttons = [];\n            },\n\n            add: function(button) {\n                this.buttons[this.buttons.length] = button;\n            },\n\n            remove: function(button) {\n                var index = $.inArray(button, this.buttons);\n                this.buttons.splice(index, 1);\n            },\n\n            select: function(button) {\n                var tmp;\n                for (var i = 0; i < this.buttons.length; i ++) {\n                    tmp = this.buttons[i];\n\n                    tmp.select(false);\n                }\n\n                button.select(true);\n                if (button.twin()) {\n                    button.twin().select(true);\n                }\n            }\n        });\n\n        var ToolBar = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                element = that.wrapper = that.element;\n\n                element.addClass(TOOLBAR + \" k-widget\");\n                element.attr(ROLE, \"toolbar\");\n\n                this.uid = kendo.guid();\n                this._isRtl = kendo.support.isRtl(element);\n                this._groups = {};\n                element.attr(KENDO_UID_ATTR, this.uid);\n\n                that.isMobile = (typeof options.mobile === \"boolean\") ? options.mobile : that.element.closest(\".km-root\")[0];\n                that.animation = that.isMobile ? { open: { effects: \"fade\" } } : {};\n\n                if (that.isMobile) {\n                    element.addClass(\"km-widget\");\n                    KBUTTON = \"km-button\";\n                    BUTTON_GROUP = \"km-buttongroup\";\n                    STATE_SELECTED = \"km-state-active\";\n                    STATE_DISABLED = \"km-state-disabled\";\n                }\n\n                if (options.resizable) {\n                    that._renderOverflow();\n                    element.addClass(RESIZABLE_TOOLBAR);\n\n                    that.overflowUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: 5,\n                        allowSelection: true,\n                        filter: DOT + OVERFLOW_ANCHOR,\n                        tap: that._toggleOverflow.bind(that)\n                    });\n\n                    that._resizeHandler = kendo.onResize(function() {\n                        that.resize();\n                    });\n                } else {\n                    that.popup = { element: $([]) };\n                }\n\n                if (options.items && options.items.length) {\n                    for (var i = 0; i < options.items.length; i++) {\n                        that.add(options.items[i]);\n                    }\n\n                    if (options.resizable) {\n                        that._shrink(that.element.innerWidth());\n                    }\n                }\n\n                that.userEvents = new kendo.UserEvents(document.documentElement, {\n                    threshold: 5,\n                    allowSelection: true,\n                    filter:\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] a.\" + KBUTTON + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + OVERFLOW_ANCHOR + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + SPLIT_BUTTON_ARROW + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + TEMPLATE_ITEM + COMMA + EMPTY +\n                        \"[\" + KENDO_UID_ATTR + \"=\" + that.uid + \"] .\" + MENU_BUTTON,\n                    tap: that._buttonClick.bind(that),\n                    press: toggleActive,\n                    release: toggleActive\n                });\n\n                that.element.on(CLICK + ns, \"a.k-button\", preventClick)\n                    .on(KEYDOWN + ns, that._keydown.bind(that))\n                    .on(\"focusin\" + ns, that._focusIn.bind(that))\n                    .on(\"focusout\" + ns, that._focusOut.bind(that));\n\n                if (that.options.resizable) {\n                    that.popup.element.on(CLICK + ns, + \"a.k-button\", preventClick);\n                }\n\n                if (options.resizable) {\n                    that.overflowAnchor.appendTo(that.wrapper);\n                    this._toggleOverflowAnchor();\n                }\n\n                that._tabIndex();\n\n                kendo.notify(that);\n            },\n\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE\n            ],\n\n            options: {\n                name: \"ToolBar\",\n                items: [],\n                resizable: true,\n                mobile: null,\n                navigateOnTab: false\n            },\n\n            addToGroup: function(button, groupName) {\n                var group;\n\n                if (!this._groups[groupName]) {\n                    group = this._groups[groupName] = new Group();\n                } else {\n                    group = this._groups[groupName];\n                }\n\n                group.add(button);\n                return group;\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.destroySplitButtons();\n                that.destroyDropDownButtons();\n\n                that.element.off(ns, \"a.k-button\");\n\n                that.userEvents.destroy();\n\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowUserEvents.destroy();\n                    that.popup.element.off(ns, \"a.k-button\");\n                    that.popup.destroy();\n                }\n\n                Widget.fn.destroy.call(that);\n            },\n\n            destroySplitButtons: function() {\n                var that = this,\n                    splitButtonWrappers = that.element.find(DOT + SPLIT_BUTTON),\n                    item;\n\n\n                splitButtonWrappers.each(function(idx, element) {\n                    item = that._getItem(element);\n\n                    if (item && item.type === SPLITBUTTON) {\n                        item = item.toolbar;\n                    }\n\n                    if (item && item.splitButton && item.splitButton.destroy) {\n                        item.splitButton.destroy();\n                        $(element).remove();\n                    }\n                });\n            },\n\n            destroyDropDownButtons: function() {\n                var that = this,\n                    dropDownButtons = that.element.find(DOT + MENU_BUTTON),\n                    item;\n\n\n                    dropDownButtons.each(function(idx, element) {\n                    item = that._getItem(element);\n\n                    if (item && item.type === DROPDOWNBUTTON) {\n                        item = item.toolbar;\n                    }\n\n                    if (item && item.dropDownButton && item.dropDownButton.destroy) {\n                        item.dropDownButton.destroy();\n                        $(element).remove();\n                    }\n                });\n            },\n\n            add: function(options) {\n                var component = components[options.type],\n                    template = options.template,\n                    tool, that = this,\n                    itemClasses = that.isMobile ? NOTHING : \"k-item\",\n                    overflowTemplate = options.overflowTemplate,\n                    overflowTool, inputsInTemplate;\n\n                $.extend(options, {\n                    uid: kendo.guid(),\n                    animation: that.animation,\n                    mobile: that.isMobile,\n                    rootUid: that.uid\n                });\n\n                if (options.menuButtons) {\n                    for (var i = 0; i < options.menuButtons.length; i++) {\n                        $.extend(options.menuButtons[i], {\n                            uid: kendo.guid()\n                        });\n                    }\n                }\n\n                if ((template && !overflowTemplate) || options.type === SPACER) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n\n                //add the command in the overflow popup\n                if (options.overflow !== OVERFLOW_NEVER && that.options.resizable) {\n                    if (overflowTemplate) { //template command\n                         overflowTool = new OverflowTemplateItem(overflowTemplate, options, that);\n                    } else if (component) { //build-in command\n                        overflowTool = new component.overflow(options, that);\n                        overflowTool.element.addClass(itemClasses);\n                    }\n\n                    if (overflowTool) {\n                        if (options.overflow === OVERFLOW_AUTO) {\n                            overflowTool.overflowHidden();\n                        }\n\n                        overflowTool.element.appendTo(that.popup.container);\n                        that.angular(\"compile\", function() {\n                            return { elements: overflowTool.element.get() };\n                        });\n                    }\n                }\n\n                //add the command in the toolbar container\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    if (template) { //template command\n                        tool = new TemplateItem(template, options, that);\n                        inputsInTemplate = tool.element.find(INPUT + COMMA + SELECT);\n\n                        if (!this.options.navigateOnTab && inputsInTemplate.length > 0) {\n                            tool.element.attr(TABINDEX, 0);\n                            inputsInTemplate.attr(TABINDEX, -1);\n                        }\n                    } else if (component) { //build-in command\n                        tool = new component.toolbar(options, that);\n                    }\n\n                    if (tool) {\n                        tool.element.appendTo(that.element);\n\n                        that.angular(\"compile\", function() {\n                            return { elements: tool.element.get() };\n                        });\n                    }\n                }\n            },\n\n            _getItem: function(candidate) {\n                var element,\n                    toolbarItem,\n                    overflowItem,\n                    isResizable = this.options.resizable,\n                    type;\n\n                //find toolbar item\n                element = this.element.find(candidate);\n\n                if (!element.length) {\n                    element = $(\"[data-role=\\\"buttonmenu\\\"]\").find(candidate);\n                }\n\n                type = element.length ? element.data(\"type\") : NOTHING;\n                toolbarItem = element.data(type);\n\n                if (toolbarItem && isResizable) {\n\n                        overflowItem = toolbarItem.twin();\n                } else if (isResizable) { //find overflow item\n                    element = this.popup.element.find(candidate);\n                    type = element.length ? element.data(\"type\") : NOTHING;\n                    overflowItem = element.data(type);\n\n                    if (type === TEXT_ITEM) {\n                        element = element.parent(DOT + MENU_BUTTON);\n                        type = \"dropDownButton\";\n                        overflowItem = element.data(type);\n                    }\n\n                    if (overflowItem && overflowItem.main && type !== TEXT_ITEM) {\n                        element = element.parent(DOT + SPLIT_BUTTON);\n                        type = \"splitButton\";\n                        overflowItem = element.data(type);\n                    }\n                }\n\n                return {\n                    type: type,\n                    toolbar: toolbarItem,\n                    overflow: overflowItem\n                };\n            },\n\n            remove: function(candidate) {\n                var item = this._getItem(candidate);\n\n                if (item.toolbar) { item.toolbar.remove(); }\n                if (item.overflow) { item.overflow.remove(); }\n\n                this.resize(true);\n            },\n\n            hide: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n\n                        item.toolbar.hide();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.toolbar.options.hidden) {\n                        item.toolbar.hide();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.overflow.hide();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (!item.overflow.options.hidden) {\n                        item.overflow.hide();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            show: function(candidate) {\n                var item = this._getItem(candidate);\n                var buttonGroupInstance;\n\n                if (item.toolbar) {\n                    if (item.toolbar.options.type === BUTTON && item.toolbar.options.isChild) {\n                        buttonGroupInstance = item.toolbar.getParentGroup();\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (item.toolbar.options.hidden) {\n                        item.toolbar.show();\n                    }\n                }\n\n                if (item.overflow) {\n                    if (item.overflow.options.type === BUTTON && item.overflow.options.isChild) {\n                        buttonGroupInstance = item.overflow.getParentGroup();\n\n                        item.toolbar.show();\n\n                        if (buttonGroupInstance) {\n                            buttonGroupInstance.refresh();\n                        }\n                    } else if (item.overflow.options.hidden) {\n                        item.overflow.show();\n                    }\n                }\n\n                this.resize(true);\n            },\n\n            enable: function(element, enable) {\n                var item = this._getItem(element);\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                if (item.toolbar) { item.toolbar.enable(enable, item.element); }\n                if (item.overflow) { item.overflow.enable(enable); }\n            },\n\n            getSelectedFromGroup: function(groupName) {\n                return this.element.find(DOT + TOGGLE_BUTTON + \"[data-group='\" + groupName + \"']\").filter(DOT + STATE_SELECTED);\n            },\n\n            toggle: function(button, checked) {\n                var element = $(button),\n                    item = element.data(BUTTON);\n\n                if (item.options.togglable) {\n                    if (checked === undefined$1) {\n                        checked = true;\n                    }\n\n                    item.toggle(checked, true);\n                }\n            },\n\n            _renderOverflow: function() {\n                var that = this,\n                    overflowContainer = components.overflowContainer,\n                    isRtl = that._isRtl,\n                    horizontalDirection = isRtl ? \"left\" : \"right\";\n\n                that.overflowAnchor = $(components.overflowAnchor).addClass(KBUTTON);\n\n                that.element.append(that.overflowAnchor);\n\n                if (that.isMobile) {\n                    that.overflowAnchor.append('<span class=\"km-icon km-more\"></span>');\n                    overflowContainer = actionSheetWrap(overflowContainer);\n                } else {\n                    that.overflowAnchor.append('<span class=\"k-icon k-i-more-vertical\"></span>');\n                }\n\n                that.popup = new kendo.ui.Popup(overflowContainer, {\n                    origin: \"bottom \" + horizontalDirection,\n                    position: \"top \" + horizontalDirection,\n                    anchor: that.overflowAnchor,\n                    isRtl: isRtl,\n                    animation: that.animation,\n                    appendTo: that.isMobile ? $(that.isMobile).children(\".km-pane\") : null,\n                    copyAnchorStyles: false,\n                    open: function(e) {\n                        var wrapper = kendo.wrap(that.popup.element)\n                            .addClass(OVERFLOW_WRAPPER);\n\n                        if (!that.isMobile) {\n                            wrapper.css(\"margin-left\", (isRtl ? -1 : 1) * ((outerWidth(wrapper) - wrapper.width()) / 2 + 1));\n                        } else {\n                            that.popup.container.css(\"max-height\", (parseFloat($(\".km-content:visible\").innerHeight()) - 15) + \"px\");\n                        }\n\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    activate: function() {\n                        this.element.find(KENDO_FOCUSABLE).first().trigger(FOCUS);\n                    },\n                    close: function(e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        }\n\n                        this.element.trigger(FOCUS);\n                    }\n                });\n\n                that.popup.element.on(KEYDOWN + ns, DOT + KBUTTON, function(e) {\n                    var target = $(e.target),\n                        li = target.parent(),\n                        isComplexTool = li.is(DOT + BUTTON_GROUP) || li.is(DOT + SPLIT_BUTTON),\n                        element;\n\n                    e.preventDefault();\n\n                    if (e.keyCode === keys.ESC || e.keyCode === keys.TAB || (e.altKey && e.keyCode === keys.UP)) {\n                        that._toggleOverflow();\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.DOWN) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":last-child\")) || (isComplexTool && !target.next().is(KENDO_FOCUSABLE)) ? li : target;\n                        findFocusableSibling(element, NEXT).trigger(FOCUS);\n                    } else if (e.keyCode === keys.UP) {\n                        element = !isComplexTool || (isComplexTool && target.is(\":first-child\")) || (isComplexTool && !target.prev().is(KENDO_FOCUSABLE)) ? li : target;\n                        findFocusableSibling(element, PREV).trigger(FOCUS);\n                    } else if ((e.keyCode === keys.SPACEBAR || e.keyCode === keys.ENTER) && !$(e.target).is(DOT + STATE_DISABLED)) {\n                        that.userEvents.trigger(TAP, { target: $(e.target) });\n                        that.overflowAnchor.trigger(FOCUS);\n                    } else if (e.keyCode === keys.HOME) {\n                        li.parent().find(KENDO_FOCUSABLE).first().trigger(FOCUS);\n                    } else if (e.keyCode === keys.END) {\n                        li.parent().find(KENDO_FOCUSABLE).last().trigger(FOCUS);\n                    }\n                });\n\n                if (that.isMobile) {\n                    that.popup.container = that.popup.element.find(DOT + OVERFLOW_CONTAINER);\n                } else {\n                    that.popup.container = that.popup.element;\n                }\n\n                that.popup.container.attr(KENDO_UID_ATTR, this.uid);\n            },\n\n            _toggleOverflowAnchor: function() {\n                var hasVisibleChildren = false;\n                var paddingEnd = this._isRtl ? \"padding-left\" : \"padding-right\";\n\n                if (this.options.mobile) {\n                    hasVisibleChildren = this.popup.element.find(DOT + OVERFLOW_CONTAINER).children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                } else {\n                    hasVisibleChildren = this.popup.element.children(\":not(.\" + OVERFLOW_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n                }\n\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.css({\n                        visibility: \"visible\",\n                        width: NOTHING\n                    });\n                    this.wrapper.css(paddingEnd, this.overflowAnchor.outerWidth(true));\n                } else {\n                    this.overflowAnchor.css({\n                        visibility: HIDDEN,\n                        width: \"1px\"\n                    });\n                    this.wrapper.css(paddingEnd, NOTHING);\n                }\n            },\n\n            _buttonClick: function(e) {\n                var that = this,\n                    target = $(e.target),\n                    item, handler, eventData, urlTarget,\n                    templateFocusable;\n\n                if (target.closest(DOT + TEMPLATE_ITEM).length === 0) {\n                    e.preventDefault();\n                }\n\n                if (target.hasClass(MENU_BUTTON) || target.hasClass(OVERFLOW_ANCHOR)) {\n                    that._resetTabIndex(target);\n                    return;\n                } else if (target.hasClass(SPLIT_BUTTON_ARROW)) {\n                    that._resetTabIndex(target.prev());\n                    return;\n                } else if (target.hasClass(TEMPLATE_ITEM)) {\n                    templateFocusable = target.find(INPUT + COMMA + SELECT + COMMA + DOT + DROPDOWNLIST);\n\n                    if (templateFocusable.length > 0) {\n                        that._resetTabIndex(templateFocusable.first());\n                    }\n\n                    return;\n                }\n\n                if (!target.data(SPLITBUTTON)) {\n                    target = $(e.target).closest(DOT + KBUTTON + COMMA + DOT + MENU_LINK, that.element);\n                }\n\n                item = target.data(BUTTON);\n\n                if (item && !target.hasClass(MENU_ITEM)) {\n                    that._resetTabIndex(target);\n                }\n\n                if (!item && that.popup) {\n                    target = $(e.target).closest(DOT + OVERFLOW_BUTTON, that.popup.container);\n                    item = target.parent(\"li\").data(BUTTON);\n                }\n\n                if (!item || !item.options.enable) {\n                    return;\n                }\n\n                if (item.options.togglable) {\n                    handler = isFunction(item.toggleHandler) ? item.toggleHandler : null;\n\n                    item.toggle(!item.options.selected, true);\n                    eventData = { target: target, group: item.options.group, checked: item.options.selected, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(TOGGLE, eventData);\n                } else {\n                    handler = isFunction(item.clickHandler) ? item.clickHandler : null;\n                    eventData = { sender: that, target: target, id: item.options.id, item: item };\n\n                    if (handler) { handler.call(that, eventData); }\n                    that.trigger(CLICK, eventData);\n                }\n\n                if (item.options.url) {\n                    if (item.options.attributes && item.options.attributes.target) {\n                        urlTarget = item.options.attributes.target;\n                    }\n                    window.open(item.options.url, urlTarget || \"_self\");\n                }\n\n                if (target.hasClass(OVERFLOW_BUTTON)) {\n                    that.popup.close();\n                }\n            },\n\n            _focusOut: function(e) {\n                this.wrapper.find(DOT + KBUTTON + DOT + KFOCUS).removeClass(KFOCUS);\n            },\n\n            _focusIn: function(e) {\n                var target = $(e.target);\n\n                if (target.closest(DOT + KBUTTON).length > 0) {\n                    target.closest(DOT + KBUTTON).addClass(KFOCUS);\n                }\n            },\n\n            _keydown: function(e) {\n                var target = $(e.target),\n                    keyCode = e.keyCode,\n                    items = this._getItems(),\n                    direction = this._isRtl ? -1 : 1,\n                    templateItem = target.closest(DOT + TEMPLATE_ITEM),\n                    last, next, innerFocusable, innerWidget, widgetInstance;\n\n                if (e.altKey && keyCode === keys.DOWN) {\n                    var isOverflowAnchor = $(document.activeElement).is(DOT + OVERFLOW_ANCHOR);\n\n                    if (isOverflowAnchor) {\n                        this._toggleOverflow();\n                    }\n\n                    return;\n                }\n\n                if (!this.options.navigateOnTab && keyCode === keys.ENTER && target.hasClass(TEMPLATE_ITEM)) {\n                    innerFocusable = target.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n\n                    if (innerFocusable.length > 0) {\n                        target.attr(TABINDEX, -1);\n\n                        innerFocusable.attr(TABINDEX, 0);\n                        innerFocusable.first().trigger(FOCUS);\n                    }\n\n                    return;\n                } else if (!this.options.navigateOnTab && keyCode === keys.ESC && templateItem.length > 0) {\n                    innerWidget = templateItem.find(\"[data-role]\");\n                    innerFocusable = templateItem.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n\n                    if (innerWidget.length > 0) {\n                        widgetInstance = kendo.widgetInstance(innerWidget);\n\n                        if (widgetInstance) {\n                            if (widgetInstance.popup && widgetInstance.popup.visible()) {\n                                return;\n                            } else {\n                                templateItem.attr(TABINDEX, 0);\n                                templateItem.trigger(FOCUS);\n                                templateItem.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                            }\n                        }\n                    }\n\n                    if (innerFocusable.length > 0) {\n                        templateItem.attr(TABINDEX, 0);\n                        templateItem.trigger(FOCUS);\n                        innerFocusable.attr(TABINDEX, -1);\n                    }\n\n                    return;\n                } else if ((keyCode === keys.SPACEBAR || keyCode === keys.ENTER) && !target.is(INPUT + COMMA + CHECKBOX + COMMA + BUTTON)) {\n                    if (keyCode === keys.SPACEBAR) {\n                        e.preventDefault(); //prevent spacebar to scroll the page down\n                        this.userEvents.trigger(TAP, { target: target });\n                    }\n\n                    return;\n                }\n\n                if (keyCode === keys.HOME) {\n                    if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                        return;\n                    }\n\n                    this._resetTabIndex(items.first());\n                    items.first().trigger(FOCUS);\n                    e.preventDefault();\n                } else if (keyCode === keys.END) {\n                    if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                        return;\n                    }\n\n                    last = items.last();\n\n                    if (last.width() === 0) {\n                        last = items.eq(items.length - 2);\n                    }\n\n                    this._resetTabIndex(last);\n                    last.trigger(FOCUS);\n                    e.preventDefault();\n                } else if (!this.options.navigateOnTab &&\n                    keyCode === keys.RIGHT &&\n                    !target.is(INPUT + \":not([type=file])\" + COMMA + SELECT + COMMA + DOT + DROPDOWNLIST + COMMA + DOT + COLORPICKER) &&\n                    this._getNextElement(e.target, 1 * direction)) {\n                        next = $(this._getNextElement(e.target, 1 * direction));\n                        this._resetTabIndex(next);\n                        next.trigger(FOCUS);\n\n                        e.preventDefault();\n                } else if (!this.options.navigateOnTab &&\n                    keyCode === keys.LEFT &&\n                    !target.is(INPUT + \":not([type=file])\" + COMMA + SELECT + COMMA + EMPTY + DOT + DROPDOWNLIST + COMMA + DOT + COLORPICKER) &&\n                    this._getNextElement(e.target, -1 * direction)) {\n                        next = $(this._getNextElement(e.target, -1 * direction));\n                        this._resetTabIndex(next);\n                        next.trigger(FOCUS);\n\n                        e.preventDefault();\n                }\n            },\n\n            _getNextElement: function(item, direction) {\n                var items = this._getItems(),\n                    itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item),\n                    focusableItem = items[itemIndex + direction];\n\n                if (!focusableItem) {\n                    if (direction === -1) {\n                        focusableItem = items.last();\n                    } else {\n                        focusableItem = items.first();\n                    }\n                }\n\n                return focusableItem;\n            },\n\n            _getItems: function() {\n                return this.wrapper.find(KENDO_FOCUSABLE + COMMA + DOT + TEMPLATE_ITEM + COMMA + DOT + OVERFLOW_ANCHOR + COMMA + DOT + \"k-switch\").filter(function() {\n                    var current = $(this);\n\n                    if (current.hasClass(\"k-hidden\")) {\n                        return false;\n                    } else if (current.hasClass(OVERFLOW_ANCHOR) && current.css(\"visibility\") === HIDDEN) {\n                        return false;\n                    } else if (current.hasClass(TEMPLATE_ITEM) && current.find(\"input:visible\" + COMMA + DOT + \"k-picker\" + COMMA + DOT + \"k-input\").length === 0) {\n                        return false;\n                    } else if (!current.hasClass(TEMPLATE_ITEM) && current.closest(DOT + TEMPLATE_ITEM).length > 0) {\n                        return false;\n                    } else if (current.hasClass(INPUT_BUTTON) || current.hasClass(SPLIT_BUTTON_ARROW)) {\n                        return false;\n                    }\n\n                    return true;\n                });\n            },\n\n            _toggle: function(e) {\n                var splitButton = $(e.target).closest(DOT + SPLIT_BUTTON).data(\"splitButton\");\n\n                e.preventDefault();\n\n                if (!splitButton.options.enable) {\n                    return;\n                }\n\n                splitButton.toggle();\n            },\n\n            _toggleOverflow: function() {\n                this.popup.toggle();\n            },\n\n            _resize: function(e) {\n                var containerWidth = e.width;\n\n                if (!this.options.resizable) {\n                    return;\n                }\n\n                this.popup.close();\n\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n\n                this._markVisibles();\n\n                this._toggleOverflowAnchor();\n            },\n\n            _childrenWidth: function() {\n                var childrenWidth = 0;\n                var gap = parseInt(this.element.css('gap'), 10) || 0;\n\n                this.element.children(\":visible:not(\" + DOT + SPACER_CLASS + \")\").each(function() {\n                    childrenWidth += outerWidth($(this), true) + gap;\n                });\n\n                return Math.ceil(childrenWidth);\n            },\n\n            _shrink: function(containerWidth) {\n                var commandElement,\n                    visibleCommands,\n                    activeElement;\n\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            activeElement = commandElement.find(\"[tabindex=0]\");\n\n                            if (activeElement.length > 0) {\n                                activeElement.attr(TABINDEX, -1);\n                                this.element.children(DOT + OVERFLOW_ANCHOR).attr(TABINDEX, 0);\n                            }\n\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n\n            _stretch: function(containerWidth) {\n                var commandElement,\n                    hiddenCommands;\n\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(DOT + STATE_HIDDEN + \":not(\" + DOT + FORCE_HIDDEN + \")\");\n\n                    for (var i = 0; i < hiddenCommands.length; i++) {\n                        commandElement = hiddenCommands.eq(i);\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n            },\n\n            _hideItem: function(item) {\n                item.addClass(STATE_HIDDEN);\n\n                if (this.popup) {\n                    this.popup.container\n                        .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                        .removeClass(OVERFLOW_HIDDEN);\n                }\n            },\n\n            _showItem: function(item, containerWidth) {\n                var gap = parseInt(this.element.css('gap'), 10) || 0;\n                // From jquery.outerWidth docs:\n                //  > jQuery will attempt to temporarily show and then re-hide an element\n                //  > in order to measure its dimensions, but this is unreliable\n                // Thus we show and hide the item\n                item.removeClass(STATE_HIDDEN);\n                var itemOuterWidth = outerWidth(item, true) + gap;\n                item.addClass(STATE_HIDDEN);\n\n                if (item.length && containerWidth > this._childrenWidth() + itemOuterWidth) {\n                    item.removeClass(STATE_HIDDEN);\n\n                    if (this.options.navigateOnTab !== true) {\n                        item.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    }\n\n                    if (this.popup) {\n                        this.popup.container\n                            .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                            .addClass(OVERFLOW_HIDDEN);\n                    }\n\n                    return true;\n                }\n\n                return false;\n            },\n\n            _markVisibles: function() {\n                var overflowItems = this.popup.container.children(),\n                    toolbarItems = this.element.children(\":not(\" + DOT + OVERFLOW_ANCHOR + \")\"),\n                    visibleOverflowItems = overflowItems.filter(\":not(\" + DOT + OVERFLOW_HIDDEN + \")\"),\n                    visibleToolbarItems = toolbarItems.filter(\":visible\");\n\n                overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE + EMPTY + LAST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE);\n                visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE);\n            },\n\n            _resetTabIndex: function(toFocus) {\n                if (this.options.navigateOnTab !== true) {\n                    this.wrapper.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    toFocus.attr(TABINDEX, 0);\n                }\n            },\n\n            _tabIndex: function() {\n                var focusableItems = this.wrapper.find(KENDO_FOCUSABLE + \":not('[tabindex=-1]')\"),\n                    firstFocusable = focusableItems.first();\n\n                if (this.options.navigateOnTab !== true) {\n                    focusableItems.attr(TABINDEX, -1);\n                    firstFocusable.attr(TABINDEX, 0);\n                }\n            }\n        });\n\n    kendo.ui.plugin(ToolBar);\n})(window.kendo.jQuery);\n"]}